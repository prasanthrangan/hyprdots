"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8420],{87355:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>q,REDIRECT_BASE:()=>X,default:()=>z});var s=n(10226),i=n(17676),l=n(50959),r=n(82187),o=n.n(r),a=n(39371),c=n(85648),u=n(80936),d=n(67204),m=n(80626),p=n(39505),g=n(98716),h=n(97922),x=n(81639),f=n(16118),b=n(11527);const j=({image:e,color:t=p.k77,title:n})=>{const s=void 0===e?h.fR.SMALL:h.fR.DEFAULT,i=e?.uri?[{url:e.uri}]:[];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.gF,{backgroundImages:i,backgroundColor:t,size:s,children:[(0,b.jsx)(x.W,{children:n?(0,b.jsx)(f.i,{text:n}):null}),(0,b.jsx)(h.sP,{children:n?(0,b.jsx)(h.xd,{children:n}):null})]}),(0,b.jsx)(g.H,{color:t})]})};n(46758),n(27082),n(86277),n(55115);var y=n(11317),v=n(36255),w=n(20109),D=n(87964);const A=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const I=(e,t,n)=>{if(void 0===e.id)return null;const s=t.map(((e,t)=>function(e,t){const n=e.component?.id,s=e.id;if(void 0===n||void 0===s)return null;const i=e.events?.click?.data?.uri,l=e.images?.main?.uri,r=l?[{url:l}]:[];switch(n){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===i?null:(0,b.jsx)(w.B,{uri:i,name:e.text?.title??"",images:r,showImages:r,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(o=e.custom?.duration,"number"==typeof o?o:0),releaseDate:A(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},i);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===i?null:(0,b.jsx)(D.Z,{uri:i,name:e.text?.title??"",images:r,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},i);default:return null}var o}(e,t))).flatMap((e=>e?[e]:[]));if(0===s.length)return null;const i=(0,y.EC)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,b.jsx)(v.q,{title:e.text?.title??"",total:s.length,seeAllUri:i,index:n,id:e.id,seeAllLabel:e.text?.accessory,children:s})},R=e=>{const t=(e=>{const t=Array();let n,s=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(n&&0!==s.length&&t.push({heading:n,components:s}),n=e,s=Array()):n&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{s.push(e)})):s.push(e))})),n&&0!==s.length&&t.push({heading:n,components:s}),t})(e);return(0,b.jsx)(b.Fragment,{children:t.map(((e,t)=>I(e.heading,e.components,t)))})};var C=n(68989),k=n(69736),N=n(36353),S=n(65376),O=n(60046),B=n(4417);const F="pgo3GiB844kDFl6Qbo05",E="RhOeeOpI4AOwx0QAVneD",M="XSE6HhcsNgvOjU0xmuTN";var U=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(U||{});const W=({spec:e})=>{const t=c.ag.getLocaleForTranslation(),n=(0,m.$P)(),s=(0,m.Wi)(e),i=t=>{if(t===U.ANDROID){const s=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}else{const s=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(s)}};return(0,b.jsxs)(C.x,{variant:"tinted",style:{width:600},ref:s,children:[(0,b.jsx)(k.x,{as:"p",variant:"bodyMediumBold",style:{marginBottom:N.dl},children:c.ag.get("web-player.cultural-moments.unsupportedHeading")}),(0,b.jsx)(k.x,{as:"p",variant:"bodySmall",style:{marginBottom:N.o7},children:c.ag.get("web-player.cultural-moments.unsupportedDescription")}),(0,b.jsxs)("div",{className:o()(M),children:[(0,b.jsx)(O.default,{to:U.IOS,target:"_blank",onClick:()=>i(U.IOS),children:(0,b.jsx)("img",{src:(0,S.g)((0,B.b)(t)),alt:c.ag.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:F})}),(0,b.jsx)(O.default,{to:U.ANDROID,target:"_blank",onClick:()=>i(U.ANDROID),children:(0,b.jsx)("img",{src:(0,S.g)((0,B.V)(t)),alt:c.ag.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:o()(F,E)})})]})]})};var L=n(24676),P=n(37335),T=n(41038),_=n(91643);const H="BnW4ga5mfG9DYWXeADCL",V="RL_W31RCuHFbSTBORR6w",$="xfR1I0mMRPPSCr9FUSJs",G=({uri:e,id:t})=>{const{data:n,error:s,loading:i}=(0,L.J)(d.cW.D,[t]),{spec:r,UBIFragment:p}=(0,m.fU)(a.Y,{data:{identifier:e,uri:e}}),g=(0,l.useMemo)((()=>r.shelvesFactory()),[r]),h=(0,l.useMemo)((()=>r.mobilePromptFactory()),[r]),x=n?.body.hubViewData?.body,f=n?.body.hubViewData?.header;if(null===n||void 0===x||void 0===f||i||null!==s)return(0,b.jsx)(_.h,{hasError:null!==s,errorMessage:c.ag.get("error.generic")});const y=n.body.hubViewData?.title,v=f?.text?.title;return(0,b.jsxs)(p,{spec:r,children:[(0,b.jsx)(T.$,{children:y??""}),v?(0,b.jsx)("div",{className:H,children:(0,b.jsx)(j,{title:f?.text?.title,image:f.images?.background})}):null,(0,b.jsx)(p,{spec:g,children:(0,b.jsxs)("div",{className:$,children:[v&&(0,b.jsx)(P.I,{}),(0,b.jsx)("div",{className:o()("contentSpacing",V),children:(0,b.jsxs)(u.C,{children:[(0,b.jsx)(W,{spec:h}),x?R(x):null]})})]})})]})};var J=n(50540),Q=n(96989);const X="https://accounts.spotify.com/login",Y=()=>{const e=window.location.href;return window.location.href=`${X}?continue=${encodeURIComponent(e)}`,null},q=e=>{const t=(0,J.g)(),n=(0,s.W6)(i.B4B,{loadingValue:!1});return t?(0,b.jsx)(Y,{}):n?(0,b.jsx)(G,{...e}):(0,b.jsx)(Q.InstrumentedRedirect,{to:"/"})},z=q}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map