"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9124],{8964:(e,r,s)=>{s.r(r),s.d(r,{default:()=>A});s(95101),s(32548),s(99692);var i=s(50959),l=s(40587),a=s(5311),n=s(38762),t=s(98900),d=s(34315),o=s(27293),c=s(1922),x=s(77671),m=s(29482),f=s(72514),g=s(74822),u=s(64116),j=s(16917),p=s(38201),h=s(11527);const y=({folder:e,index:r})=>{const s=e.items.filter((e=>e.type===j.p.PLAYLIST)).length,i=e.items.filter((e=>"folder"===e.type)).length;return(0,h.jsx)(g.C,{uri:e.uri,index:r,featureIdentifier:"folder",headerText:e.name,renderSubHeaderContent:()=>(0,h.jsx)(p.i,{children:(0,h.jsxs)(m.D,{variant:"mesto",children:[t.ag.get("web-player.folder.playlists",s),","," ",t.ag.get("web-player.folder.folders",i)]})}),renderCardImage:()=>(0,h.jsx)(u.x,{FallbackComponent:e=>(0,h.jsx)(f.P,{iconSize:64,...e})}),isPlayable:!1})};var b=s(94989);const P="folder-folderPage-sectionWrapper",v="rbLspqGazxdY3fuaxvkM",N="_odE2h85itP7mBz2_vUR",U="x49I_IPmWNCLnUJSw28O",L=({folderName:e,folderUri:r})=>(0,h.jsxs)("div",{className:N,children:[(0,h.jsx)(f.P,{className:U}),(0,h.jsx)(b.default,{to:r,children:(0,h.jsx)(m.D,{variant:"canon",children:e})})]});var k=s(29338),C=s(15192);const I=({folder:e,isFolder:r,isPlaylist:s})=>{const i=(e,i)=>r(e)?(0,h.jsx)(y,{folder:e,index:i}):s(e)?(0,h.jsx)(d.Z,{index:i,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,isPlayable:e.totalLength>0}):null;return(0,h.jsxs)("div",{children:[(0,h.jsx)(L,{folderName:e.name,folderUri:e.uri}),(0,h.jsx)(k.T,{render:()=>e.items.map(((e,r)=>(0,h.jsx)(C.JL,{value:"card",index:r,children:i(e,r)},e.uri)))})]})};var w=s(46227),F=s(75236),M=s(33299),S=s(82565),J=s(14996);const T=({folderUri:e,hasPlaylists:r,onClick:s,playing:i,supportsFolderPlayback:l})=>{const a=(0,J.j)();return(0,h.jsx)(M.o,{children:(0,h.jsx)(M.F,{children:l&&(0,h.jsx)(S.$,{onClick:s,isPlaying:i,size:a,disabled:!r,uri:e})})})};var _=s(7146),z=s(55085),D=s(31926);const E=({folderName:e,folderUri:r})=>(0,h.jsxs)(_.gF,{children:[(0,h.jsx)(z.W,{children:(0,h.jsx)(D.i,{text:e,dragUri:r,dragLabel:e})}),(0,h.jsxs)(_.sP,{children:[(0,h.jsx)(m.D,{variant:"mestoBold",children:t.ag.get("folder.title")}),(0,h.jsx)(_.xd,{dragUri:r,dragLabel:e,children:e})]})]}),Y=e=>{const{id:r}=e,s=(0,l.v9)((({session:e})=>e?.user?.id))||"",a=(0,n.ir)(s,r).toURI(),m=(0,F.C)({folderUri:a,decorateImagesAndOwner:!0}),f=(0,l.v9)((e=>e.platform.isDesktop)),{isPlaying:g,togglePlay:u}=(0,w.n)({uri:a},{featureIdentifier:"folder"}),p=e=>e.type===j.p.PLAYLIST,y=e=>"folder"===e.type,b=(0,i.useMemo)((()=>m?m.items.filter(p):[]),[m]),N=(0,i.useMemo)((()=>m?m.items.filter(y):[]),[m]),U=b.length>0||N.length>0;return m?(0,h.jsxs)("section",{className:P,children:[(0,h.jsx)(o.$,{children:t.ag.get("playlist.page-title",m.name)}),(0,h.jsx)(E,{folderName:m.name,folderUri:a}),(0,h.jsx)(T,{supportsFolderPlayback:f,onClick:()=>u(),playing:g,hasPlaylists:U,folderUri:a}),(0,h.jsx)("div",{className:"contentSpacing",children:U?(0,h.jsx)(C.JL,{value:"EntitiesGrid",children:(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)(k.T,{render:()=>b.map(((e,r)=>(0,h.jsx)(C.JL,{value:"card",index:r,children:(0,h.jsx)(d.Z,{index:r,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,isPlayable:e.totalLength>0})},e.uri)))}),N.map((e=>(0,h.jsx)(I,{folder:e,isPlaylist:p,isFolder:y},e.uri)))]})}):(0,h.jsx)(c.u,{title:t.ag.get("folder.empty.title"),message:t.ag.get("folder.empty.subtitle"),renderInline:!0})})]}):(0,h.jsx)(x.h,{hasError:!1,errorMessage:t.ag.get("error.generic")})},A=(0,i.memo)((function(){const{folderId:e=""}=(0,a.UO)();return(0,h.jsx)(Y,{id:e},e)}))}}]);
//# sourceMappingURL=xpui-routes-folder.js.map