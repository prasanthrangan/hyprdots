"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2219],{84681:(e,i,n)=>{n.d(i,{M:()=>A});var a=n(50959),t=n(84875),s=n.n(t),l=n(40587),d=n(5311),r=n(49857),o=n(17599),c=n(29482),m=n(91027),u=n(7769),k=n(81018),p=n(38762),v=n(98900),S=n(47693),N=n(51825),y=n(42189),g=n(4844),h=n(189);const f="main-topBar-searchBar",x="x-searchInput-searchInputSearchIcon",F="x-searchInput-searchInputInput",b="x-searchInput-searchInputOnSearch",j="x-searchInput-searchInputClearButton",C="x-searchInput-searchInputIconContainer",D="x-searchInput-searchInputClearIcon";var T=n(11527);const A=a.memo((function({isSearchChipsEnabled:e=!1,onSearch:i=!0,onClick:n}){const t=(0,d.TH)(),A=(0,d.s0)(),I=(0,a.useRef)(null),R=(0,a.useRef)(null),E=(0,l.I0)(),[{category:V,query:U},w]=(0,h.l)(),[P,q]=(0,a.useState)(U),_=!!V,O=(0,N.Mi)(),L=t.pathname.startsWith("/recent-searches"),M=_||L,{spec:W,logger:H}=(0,y.fU)(k.createDesktopSearchInputEventFactory,{}),B=(0,r.y1)(((i,n,a)=>{let t;if(a){const{interactionId:e}=H.logInteraction(a);t=e}e?w(i,V,!1,t):w(i,null,n,t),O.current&&(O.current.scrollTop=0)}),200),K=(0,a.useCallback)(((e=!1)=>{I.current!==document.activeElement&&(R.current=document.activeElement,I.current&&I.current.focus()),e&&I.current?.select()}),[]);(0,S.eY)(S.O4.SHOW_SEARCH,(()=>K(!0)));const z=t.pathname.startsWith("/search");(0,a.useEffect)((()=>{!M&&i&&z&&(e&&U||K())}),[U,K,t.key,i,z,M,e]),(0,a.useEffect)((()=>{z||q("")}),[z,U]);return(0,T.jsxs)("div",{className:s()(f,{[b]:!i}),children:[(0,T.jsx)("form",{onSubmit:e=>{e.preventDefault(),P&&H.logInteraction(W.keyStrokeSearch());const i=(0,p.EC)(P);if(i?.type===p.JM.AD){const e=(0,p.HB)(i.id);if(i.id===e)return;E((0,g.HI)(i.id))}else i?A(i.toURLPath(!0),{state:{preventMoveFocus:!0}}):P||A("/search",{state:{preventMoveFocus:!0}});P&&O.current?.querySelector("h1, h2, h3, h4")?.focus()},role:"search",children:(0,T.jsx)(c.D,{variant:"mesto",as:"input",style:{color:o.Snx},ref:I,className:s()(F),value:P,maxLength:800,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onChange:e=>{const i=e.currentTarget.value,n=W.keyStrokeChangeSearchQuery({searchQueryString:i});q(i),B(i,M,n)},onKeyDown:e=>{if("Escape"===e.key)if(P){const e=W.hitTextClear();q(""),B("",M,e)}else I.current&&I.current.blur(),R.current instanceof HTMLElement&&R.current.focus()},placeholder:i?v.ag.get("search.search-for-label"):v.ag.get("navbar.search"),onFocus:()=>{e||!M&&i||B(P,M,null)},"data-testid":"search-input",onClick:n})}),(0,T.jsxs)("div",{className:C,children:[(0,T.jsx)("span",{className:x,children:(0,T.jsx)(m.j,{className:D,"aria-hidden":!0,iconSize:16})}),P&&(0,T.jsx)("button",{className:j,onClick:()=>{I.current&&I.current.focus();const e=W.hitTextClear();q(""),B("",M,e)},"aria-label":v.ag.get("search.a11y.clear-input"),children:(0,T.jsx)(u.k,{className:D,iconSize:16})})]})]})}))},80281:(e,i,n)=>{n.d(i,{V:()=>U,e:()=>E});var a=n(50959),t=n(40587),s=n(58665),l=n(89469),d=n(38762),r=n(30273),o=n(20141),c=n(13645),m=n(33166),u=n(28256),k=n(99543),p=n(22171),v=n(61377),S=n(42958),N=n(67301),y=n(6401),g=n(49624),h=n(55272),f=n(46304),x=n(98226),F=n(15192),b=n(3438),j=n(78157),C=n(42189),D=n(75661),T=n(80319),A=n(61204),I=n(74818),R=n(11527);function E(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const V=e=>`activation-trigger-mme-${e}`,U=a.memo((function({index:e=-1,showMetadata:i,episode:n,usePlayContextItem:U,status:w,variant:P}){const q=(0,A.E)(),_=n.playedState.playPositionMilliseconds,O=n.uri,L=(0,a.useRef)(null),[M,W]=(0,a.useState)(n.playedState.state===D.sY.Completed),H=(0,S.O)(),B=(0,y.g)(),K=(0,b.jh)(),z=(0,N.o)(),G=(0,t.I0)(),{UBIFragment:$,spec:X,logger:Q}=(0,C.fU)(l.createDesktopEpisodeBlockEventFactory,{data:{uri:O,reason:n.requestId||"",position:e}}),J=(0,C.Wi)(X),{isActive:Y,isPlaying:Z,togglePlay:ee}=U({uri:O}),[ie]=(0,j.z)(1e4,(e=>e?.item?.uri===O));(0,a.useEffect)((()=>{Z&&(L.current=ie)}),[Z,ie]),(0,a.useEffect)((()=>{!Z&&L.current&&n.duration.milliseconds<=L.current&&W(!0)}),[Z,n.duration.milliseconds]);const ne=(0,a.useCallback)((e=>{e||(L.current=0),W(e)}),[]),ae=e=>{if(e.target!==e.currentTarget)return;const a=`${n.name} • ${i.name}`;H(e,[O],a,i.uri)},te=E(i),se=(0,g.s)({...n,coverArt:{sources:n.coverArt}},te),le=(0,a.useCallback)((()=>{if(n.episodeType===D.Wf.Episode&&q)p.y.set((()=>({triggerId:V(n.uri),triggerAction:null})));else if(B)se();else{let e;e=Z?X.playButtonFactory().hitPause({itemToBePaused:O}):Y?X.playButtonFactory().hitResume({itemToBeResumed:O}):X.playButtonFactory().hitPlay({itemToBePlayed:O});const i=Q.logInteraction(e);z({targetUri:O,intent:Z?"pause":"play",type:"click"}),ee({loggingParams:i})}}),[Y,se,z,ee,O,Z,B,n,q,Q,X]),de=(0,a.useCallback)((()=>{Q.logInteraction(X.hitUiNavigate({destination:O})),z({type:"click",targetUri:O,intent:"navigate"})}),[O,z,Q,X]),re=n.podcastSubscription?.isPaywalled??!1,oe=n.podcastSubscription?.isUserSubscribed??!1,ce=re&&!oe,me=re&&B,{badges:ue}=(0,T.r)({contentRating:n.contentRating?.label,isPaywalled:re}),ke=(0,a.useCallback)((()=>G((0,r.RM)(i.uri))),[i.uri,G]),pe=(0,a.useCallback)((e=>{let a=e;return(ce||me)&&(a=(0,R.jsx)(k.l,{enabled:!0,showUri:i.uri,children:a})),!n.playability.playable&&ue.nineteen&&(a=(0,R.jsx)("div",{onClick:e=>{e.stopPropagation(),ke()},children:e})),a=(0,R.jsx)(o.D,{id:V(O),targetURI:(0,d.EC)(O),children:a}),a}),[O,ce,me,i.uri,ue.nineteen,n.playability.playable,ke]),ve=(0,s.W6)(I.eli,{loadingValue:!1});return(0,R.jsx)($,{spec:X,children:(0,R.jsx)(F.JL,{value:"row",index:e,children:(0,R.jsx)(h._,{onShow:()=>{Q.logInteraction(X.secondaryHitUiReveal())},menu:(0,R.jsx)(c.k,{uri:O,showUri:i.uri,sharingInfo:n.sharingInfo,isPlayed:M,onMarkAsPlayed:ne}),children:ve?(0,R.jsx)(u.k,{ref:J,requestId:n.requestId,index:e,uri:O,size:K,images:n.coverArt||[],name:n.name,showName:i.name,description:n.description,isPlayable:n.playability.playable||ce,fullyPlayed:M,durationMs:n.duration.milliseconds,releaseDate:n.releaseDate?.isoString||"",resumePositionMs:L.current??_,handleDragStart:ae,handlePlaybackClick:le,handleClick:de,isCurrentlyPlaying:Y,isPaywalled:re,isUserSubscribed:oe,isPlaying:Z,position:Z?ie:void 0,episodeSharingInfo:n.sharingInfo,onMarkAsPlayed:ne,contentInformation:n.contentInformation,showUri:i.uri,mediaTypes:n.mediaTypes??void 0,badges:(0,R.jsxs)(R.Fragment,{children:[ue.explicit&&(0,R.jsx)(f.N,{}),ue.paid&&(0,R.jsx)(v.g,{}),ue.nineteen&&(0,R.jsx)(x.X,{size:16})]}),playButtonWrapper:pe,onMoreButtonClick:()=>{Q.logInteraction(X.moreButtonFactory().hitUiReveal())},status:w,variant:P}):(0,R.jsx)(m.X,{ref:J,requestId:n.requestId,index:e,uri:O,size:K,images:n.coverArt||[],name:n.name,showName:i.name,description:n.description,isPlayable:n.playability.playable||ce,fullyPlayed:M,durationMs:n.duration.milliseconds,releaseDate:n.releaseDate?.isoString||"",resumePositionMs:L.current??_,handleDragStart:ae,handlePlaybackClick:le,handleClick:de,isCurrentlyPlaying:Y,isPaywalled:re,isUserSubscribed:oe,isPlaying:Z,position:Z?ie:void 0,episodeSharingInfo:n.sharingInfo,onMarkAsPlayed:ne,contentInformation:n.contentInformation,badges:(0,R.jsxs)(R.Fragment,{children:[ue.explicit&&(0,R.jsx)(f.N,{}),ue.paid&&(0,R.jsx)(v.g,{}),ue.nineteen&&(0,R.jsx)(x.X,{size:16})]}),playButtonWrapper:pe,onMoreButtonClick:()=>{Q.logInteraction(X.moreButtonFactory().hitUiReveal())},showUri:i.uri,mediaTypes:n.mediaTypes??void 0,status:w,variant:P})})})})}))},6499:(e,i,n)=>{n.d(i,{Pd:()=>l,Wm:()=>s,i9:()=>t});var a=n(98900);const t=["artists","albums","episodes","genres","playlists","podcasts","audiobooks","tracks","users","topResults","podcastAndEpisodes"],s={artists:()=>a.ag.get("search.title.artists"),albums:()=>a.ag.get("search.title.albums"),playlists:()=>a.ag.get("search.title.playlists"),podcasts:()=>a.ag.get("search.title.shows"),episodes:()=>a.ag.get("search.title.episodes"),audiobooks:()=>a.ag.get("search.title.audiobooks"),users:()=>a.ag.get("search.title.profiles"),genres:()=>a.ag.get("search.title.genres-and-moods"),tracks:()=>a.ag.get("search.title.tracks"),podcastAndEpisodes:()=>a.ag.get("search.title.podcast-and-shows"),topResults:()=>a.ag.get("search.row.top-results")},l=["artists","albums","playlists","podcasts","episodes","audiobooks","users","genres"]},189:(e,i,n)=>{n.d(i,{l:()=>d});n(95101),n(42826);var a=n(50959),t=n(5311),s=n(6499);const l=e=>s.i9.find((i=>i===e));function d(){const e=(0,t.s0)(),i=(0,t.bS)("/search/:query"),n=(0,t.bS)("/search/:query/:category"),s=(0,a.useCallback)((function(i,n,a,t){const s=t?{interactionId:t,preventMoveFocus:!0}:{preventMoveFocus:!0},l=["/search"];i&&(l.push(encodeURIComponent(i)),n&&l.push(n));const d=l.join("/");e(d,a?{state:s}:{state:s,replace:!0})}),[e]);return[{query:function(e){try{return decodeURIComponent(e)}catch{return e}}(i?.params.query??n?.params?.query??""),category:l(n?.params.category)},s]}},18993:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Vt});n(95101),n(42826);var a=n(50959),t=n(84875),s=n.n(t),l=n(40587),d=n(5311),r=n(55530),o=n.n(r),c=n(58665),m=n(20465),u=n(98900),k=n(42370),p=n(41331),v=n(73681),S=n(42189),N=(n(99692),n(48018)),y=n(16784),g=n(15192),h=n(19107),f=n(11527);const x=()=>{const{searchHistory:e,clearSearchHistory:i}=(0,h.u)();return 0===e.length?null:(0,f.jsx)(N.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:u.ag.get("search.title.recent-searches"),children:e.map(((e,n)=>(0,f.jsx)(g.JL,{index:n,value:"search-history",children:(0,f.jsx)(y.q,{entity:e,index:n,clearSearchHistory:i})},e.uri)))})},F="search-searchBrowse-SearchBrowse",b=()=>{const{spec:e,UBIFragment:i}=(0,S.fU)(p.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:n,browseAllSpec:t}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,f.jsxs)("div",{className:F,children:[(0,f.jsx)(i,{spec:n,children:(0,f.jsx)(x,{})}),(0,f.jsx)(v.T,{browseAllSpec:t})]})};var j=n(92180),C=n(26669),D=n(54703),T=n(94989);const A=(0,a.createContext)(null),I=A.Provider;function R(){const e=(0,a.useContext)(A);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var E=n(74818),V=n(6499);const U="search-searchCategory-SearchCategory",w="search-searchCategory-container",P="search-searchCategory-wrapper",q="search-searchCategory-categoryGridItem",_=({to:e,title:i,selected:n,onClick:a})=>(0,f.jsx)(T.default,{replace:!0,to:e,tabIndex:-1,onClick:a,className:q,children:(0,f.jsx)(j.A,{selected:n,selectedColorSet:"invertedLight",tabIndex:-1,children:i})}),O=({searchCategories:e,selectedCategory:i,displayChips:n})=>{const a=(0,c.W6)(E.Dzq),{query:t}=R(),{spec:l,logger:d}=(0,S.fU)(C.createDesktopSearchChipsEventFactory,{});if(!t||!n)return null;const r=encodeURIComponent(t);return(0,f.jsx)("div",{className:U,children:(0,f.jsx)("div",{className:s()(w,"contentSpacing"),children:(0,f.jsx)("div",{className:P,children:(0,f.jsxs)(D.l,{children:[!a&&e.length>0&&(0,f.jsx)(_,{to:`spotify:app:search:${r}`,title:u.ag.get("search.title.all"),selected:void 0===i,onClick:()=>{d.logInteraction(l.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${r}`}))}},"all"),e.map(((e,n)=>{const a=V.Wm[e]?.();return(0,f.jsx)(_,{to:`spotify:app:search:${r}:${e}`,title:a,selected:i===e,onClick:()=>{d.logInteraction(l.chipFactory({identifier:e,position:n+1}).hitUiNavigate({destination:`spotify:app:search:${r}:${e}`}))}},e)}))]})})})})};n(2178),n(13638),n(14136),n(25976),n(80904),n(17155),n(38734),n(82574);var L=n(4860),M=n(24908),W=n(65909),H=n(75661),B=n(16917),K=n(8548);const z={[H.xN.Podcasts]:["podcasts","podcastAndEpisodes"],[H.xN.Episodes]:["episodes","podcastAndEpisodes"],[H.xN.TopResults]:["topResults","topResults"],[H.xN.Artists]:["artists","artists"],[H.xN.Albums]:["albums","albums"],[H.xN.Playlists]:["playlists","playlists"],[H.xN.Tracks]:["tracks","tracks"],[H.xN.Audiobooks]:["audiobooks","audiobooks"],[H.xN.Genres]:["genres","genres"],[H.xN.Users]:["users","users"]};var G=n(15871),$=n(29338),X=n(5750),Q=n(80961),J=n(62380);const Y={albums:m.Wg.SEARCH_ALBUMS,artists:m.Wg.SEARCH_ARTISTS,episodes:m.Wg.SEARCH_EPISODES,genres:m.Wg.SEARCH_GENRES,playlists:m.Wg.SEARCH_PLAYLISTS,podcasts:m.Wg.SEARCH_SHOWS,audiobooks:m.Wg.SEARCH_AUDIOBOOKS,tracks:m.Wg.SEARCH_SONGS,users:m.Wg.SEARCH_PROFILES,podcastAndEpisodes:m.Wg.SEARCH_PODCASTS_AND_EPISODES,topResults:m.Wg.SEARCH};function Z({children:e}){const{query:i="",category:n=""}=(0,d.UO)();return(0,f.jsx)(J.K,{pageId:Y[n],entityUri:`spotify:app:search:${i}:${n}`,children:e})}function ee({children:e}){const{query:i}=(0,d.UO)();return(0,f.jsx)(J.K,{pageId:m.Wg.SEARCH,entityUri:`spotify:app:search:${i}`,children:e})}var ie=n(31379),ne=n(36902),ae=n(38762),te=n(33813),se=n(22741),le=n(29482),de=n(30068),re=n(43259);const oe="hngqMWKjlLOEcuxpoHz9",ce="WjLSNZPxuT0Zuw42kxSM",me="zFOvsuNQpwehjH2VoiLL",ue="zeGt0Z2HCYRvd6ziu_t9",ke=({forChip:e})=>{const{query:i,serpId:n}=R(),a=!(0,G.k)(),t=`/search/${i}`,s=(0,ae.ix)(i).toURI(),{spec:l,logger:d}=(0,S.fU)(re.createDesktopSearchEmptyResultsEventFactory,{data:{uri:s,reason:n}}),r=(0,S.Wi)(l);return(0,f.jsxs)("div",{className:oe,"aria-live":"polite",ref:r,children:[(0,f.jsx)(le.D,{as:"h1",variant:"canon",className:ce,children:e?u.ag.get("search.empty-results-title-for-chip",i,e):u.ag.get("search.empty-results-title",i)}),(0,f.jsx)("p",{className:me,children:a?u.ag.get("web-player.search-modal.offline"):u.ag.get("search.empty-results-text")}),e&&(0,f.jsx)(se.rU,{to:t,children:(0,f.jsx)(de.D,{colorSet:"invertedLight",className:ue,onClick:()=>{d.logInteraction(l.seeAllButtonFactory().hitUiNavigate({destination:t}))},children:u.ag.get("search.see-all")})})]})};var pe=n(65849);const ve={results:null,isError:!1,isFetchMoreError:!1},Se=(e,i)=>{const n=(0,pe.t)(),t=(0,a.useRef)(null),s=(0,a.useRef)(0),[l,d]=(0,a.useState)(ve),r=(0,a.useCallback)((async(a=!1)=>{if(!n())return;a&&(s.current=0,t.current=null);let l=e;if(null!==t.current){if(s.current>=t.current)return;s.current+l>t.current&&(l=t.current-s.current)}try{const e=await i(s.current,l);s.current+=l,t.current=e.totalCount||0,n()&&d((i=>({isError:!1,isFetchMoreError:!1,results:(a||null===i.results?[]:i.results).concat(e.items)})))}catch(e){n()&&d((e=>{const i=null===e.results||a;return{results:a?[]:e.results,isError:i,isFetchMoreError:!i}}))}}),[e,i,n]);return(0,a.useEffect)((()=>{r(!0)}),[r]),{results:l.results,isError:l.isError,fetchData:r,totalCountRef:t}};var Ne=n(93462),ye=n(63626),ge=n(34257),he=n(45151),fe=n(36692),xe=n(67301);const Fe=a.memo((function({uri:e,size:i=he.q.md,className:n,onClick:t,showUpsell:s}){const[l,d]=(0,fe.Z)(e),r=(0,xe.o)(),o=(0,a.useCallback)((()=>{r({targetUri:e,intent:"add-to-library",type:"click"}),d(!0)}),[r,e,d]);return(0,f.jsx)(he.o,{className:n,isFollowing:l,onFollow:o,onClick:t,uri:e,size:i,showUpsell:s})})),be="RTP39YFgFAoVSlly6vCF",je="QT1jLaHHvO5g2YQor2Fw",Ce="wArYyZVjFviopRvRFV8t",De="kRDD8AcqeOf5UDjOSQ8j",Te="XN4TCZATPrKkEMngUtFc",Ae="VYaCpehPPhmTYPRxMBub",Ie="abMqJCpsuShBo0DaZ7IY",Re="ON88h0KYGqXMdOfsqot8",Ee="BHFMWOZUKxElyq1Ffc_S",Ve="EyH4QLenIbFw0x8r83eK",Ue="JA9jP30dm3GJikfs7vBn",we="xKl_2100SG4svBvzZ8Xv",Pe="leel3U31UlOaYhKp6FgQ",qe="FxqpfDsISPKNu1XFExOg",_e="kE234isNxJ9XiTT8QoJL",Oe="KcOp4A5HBQ4EPH0IDRxg",Le="oODk_3Glvh7wotUlk4ov";var Me=n(97138);const We=({uri:e,spec:i})=>{const n=(0,S.$P)(),t=(0,a.useCallback)(((a,t)=>{(0,Me.l7)(t,i.downloadButtonFactory(),n,e)}),[n,i,e]);return(0,f.jsx)(Fe,{className:De,uri:e,size:he.q.xs,showUpsell:!1,onClick:t})};var He=n(46556),Be=n(40897);const Ke=({shape:e=He.K.ROUNDED_CORNERS,type:i,name:n,images:a})=>(0,f.jsx)(He.O,{shape:e,size:Be.m$.SIZE_64,images:a,type:i,title:n});var ze=n(53972),Ge=n(70509);const $e=(0,a.createContext)((()=>{})),Xe=({menu:e,name:i,spec:n})=>{const t=(0,S.$P)(),s=(0,a.useContext)($e),l=(0,a.useCallback)((()=>{t.logInteraction(n.contextButtonFactory().hitUiReveal()),s(!0)}),[t,s,n]),d=(0,a.useCallback)((()=>{s(!1)}),[s]);return(0,f.jsx)(Ge.yj,{menu:e,onShow:l,onHide:d,children:(0,f.jsx)(ze.z,{className:Te,size:ze.q.sm,label:u.ag.get("more.label.context",i)})})};var Qe=n(48064);const Je=({name:e,uri:i,spec:n})=>{const t=(0,S.$P)(),s=(0,a.useCallback)((()=>{t.logInteraction(n.titleLinkFactory({uri:i}).hitUiNavigate({destination:i}))}),[t,n,i]);return(0,f.jsx)(Qe.ws,{label:e,showDelay:Qe.gQ,children:(0,f.jsx)(T.default,{to:i,className:Ee,onClick:s,children:(0,f.jsx)(le.D,{variant:"balladBold",semanticColor:"textBase",className:Ve,children:e})})})};var Ye=n(22528),Ze=n(49857),ei=n(92270),ii=n(849),ni=n(41426),ai=n(46227);const ti=a.forwardRef((function({children:e,isLocked:i=!1,uri:n,playAriaLabel:a,spec:t},l){const d=(0,S.$P)(),{isPlaying:r,isActive:o,togglePlay:c}=(0,ai.n)({uri:n},{featureIdentifier:"search"}),m=(0,Ze.y1)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),i)d.logInteraction(t.playbackButtonFactory().hitShowPaywall({paywalledItem:n}));else{const e=(0,Me.aK)({isPlaying:r,isActive:o,spec:t.playbackButtonFactory(),logger:d,uri:n});c({loggingParams:e})}}),ni.s_,{leading:!0,trailing:!1});return(0,f.jsxs)("div",{className:s()(Ue),children:[r?(0,f.jsx)(ii.q,{className:Ie,animated:!0}):e,(0,f.jsx)(ei.I,{className:Ae,iconClassName:Oe,onClick:m,isPlaying:r,isLocked:i,playAriaLabel:a,ref:l})]})}));var si=n(3438);const li="kwJGggri7IZMFvQEClUf",di="yt0QcQy0t7LfbeVaEJG_",ri="WHMDRepGVQXXrTx3838g",oi="wLoqasagmgNF8ULGMhil",ci="cpC_03FZN3i93V8j3g0l",mi="S7CXd4i9huhWL_kPV_e3",ui="c85eTWJAYaGjCiwH1WDu",ki="cTTgGuDbNSWllHjVqiUx",pi=({className:e,leading:i,media:n,pretitle:a,title:t,subtitle:l,body:d,footer:r,trailing:o,onContextMenu:c,onTouchStart:m,onTouchEnd:u,onDragStart:k,onDoubleClick:p})=>{const v=(0,si.jh)();return(0,f.jsxs)("div",{className:s()(e,li),onContextMenu:c,onTouchStart:m,onTouchEnd:u,draggable:!0,onDragStart:k,onDoubleClick:p,children:[i?(0,f.jsx)("div",{className:di,children:i}):null,n?(0,f.jsx)("div",{className:ri,children:n}):null,(0,f.jsxs)("div",{className:oi,children:[a?(0,f.jsx)("div",{children:a}):null,t?(0,f.jsx)("div",{className:ui,children:t}):null,l?(0,f.jsx)("div",{className:ki,children:l}):null,d?(0,f.jsx)("div",{children:d}):null,r?(0,f.jsx)("div",{children:r}):null]}),o?(0,f.jsx)("div",{className:s()(ci,{[mi]:v===si.Uo.MEDIUM}),children:o}):null]})};n(32548);var vi=n(42958);const Si=e=>void 0!==e;const Ni=({uri:e,destinationUri:i=e,name:n,createdBy:t,menu:l,media:d,leading:r,title:o,subtitle:c,body:m,trailing:u,onClick:k,spec:p})=>{const{isActive:v}=(0,Ye.cR)(e),N=(0,S.$P)(),y=(0,a.useCallback)((()=>{N.logInteraction(p.secondaryHitUiReveal())}),[N,p]),g=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(N.logInteraction(p.hitUiNavigate({destination:i})),k(e))}),[N,k,p,i]),h=function(e,i){if(e!==i)return`?highlight=${e}`}(e,i),x=(0,S.Wi)(p),F=((e,i,n)=>{const t=(0,vi.O)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const s=[i,n].filter(Si).join(" • ");t(a,[e],s,void 0,void 0)}),[t,n,i,e])})(e,n,t),[b,j]=(0,a.useState)(!1);return(0,f.jsx)($e.Provider,{value:j,children:(0,f.jsx)(Ge._P,{menu:l,onShow:y,children:(0,f.jsx)(T.default,{to:i,search:h,tabIndex:-1,onClick:g,className:be,"data-context-menu-open":b.toString(),ref:x,children:(0,f.jsx)(pi,{leading:r||!0,title:o,subtitle:c,body:m,trailing:u,media:d,className:s()(je,{[Re]:v}),onDragStart:F})})})})};var yi=n(45255),gi=n(3578);const hi=({uri:e,type:i,spec:n})=>{const t=(0,S.$P)(),s=(0,a.useCallback)((i=>{const a=i?n.heartButtonFactory().hitLike({itemToBeLiked:e}):n.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});t.logInteraction(a)}),[n,t,e]);return["episode","audiobook"].includes(i)?(0,f.jsx)(yi.w,{uri:e,className:Ce,onClick:s}):(0,f.jsx)(gi.B,{uri:e,className:Ce,onClick:s})};var fi=n(15019),xi=n(78287),Fi=n(61114),bi=n(56582),ji=n(55272);const Ci=({children:e,uri:i,name:n,index:t,menu:s,spec:l})=>{const d=(0,vi.O)([i],n),r=(0,S.$P)(),o=(0,a.useCallback)((()=>{const e=l.subtitleLinkFactory({uri:i,position:t}).hitUiNavigate({destination:i});r.logInteraction(e)}),[t,r,l,i]);return(0,f.jsx)(ji._,{menu:s,children:(0,f.jsx)("span",{children:(0,f.jsx)(Qe.ws,{label:n,showDelay:Qe.gQ,children:(0,f.jsx)(T.default,{draggable:!0,to:i,onDragStart:d,dir:"auto",onClick:o,children:e})})})})},Di=({artists:e,spec:i})=>e?(0,f.jsx)(f.Fragment,{children:e.map((({uri:e,name:n},a)=>[a>0&&u.ag.getSeparator(),(0,f.jsx)(Ci,{name:n,uri:e,index:a,menu:(0,f.jsx)(fi.m,{uri:e}),spec:i,children:n},e)]))}):null,Ti=({topics:e=[],spec:i})=>0===e.length?null:(0,f.jsx)(f.Fragment,{children:e.filter(bi.J).map((({uri:e,title:n},a)=>[a>0&&u.ag.getSeparator(),(0,f.jsx)(Ci,{name:n,uri:e,index:a,spec:i,children:n},e)]))}),Ai=({show:e,spec:i})=>(0,f.jsx)(Ci,{name:e.name,uri:e.uri,index:0,menu:(0,f.jsx)(xi.M,{uri:e.uri}),spec:i,children:e.name}),Ii=({uri:e,name:i,spec:n})=>(0,f.jsx)(Ci,{name:i,uri:e,index:0,menu:(0,f.jsx)(Fi.I,{uri:e}),spec:n,children:i}),Ri=a.memo((function({album:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r,year:o,artists:c}=e,m=c[0].name,{spec:k}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:p}=(0,Ye.cR)(s),v=(0,f.jsx)(ge.Y,{uri:s});return(0,f.jsx)(Ni,{spec:k,menu:v,uri:s,name:d,createdBy:c.map((e=>e.name)).join(u.ag.getSeparator()),onClick:i,media:(0,f.jsx)(Ke,{type:l,name:d,images:r}),leading:(0,f.jsx)(ti,{isLocked:!1,uri:s,spec:k,playAriaLabel:p?u.ag.get("pause"):u.ag.get("tracklist.a11y.play",d,m)}),title:(0,f.jsx)(Je,{name:d,uri:s,spec:k}),subtitle:(0,f.jsxs)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:[a&&(0,f.jsx)(le.D,{className:_e,children:u.ag.get("card.tag.album")}),(0,f.jsx)(le.D,{className:_e,children:(0,f.jsx)(Di,{artists:c,spec:k})})]}),body:(0,f.jsx)(le.D,{variant:"mesto",semanticColor:"textSubdued",children:o}),trailing:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(We,{uri:s,spec:k}),(0,f.jsx)(hi,{uri:s,type:"album",spec:k}),(0,f.jsx)(Xe,{menu:v,name:d,spec:k})]})})}));var Ei=n(86431);const Vi=a.memo((function({artist:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r,verified:o}=e,{spec:c}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:m}=(0,Ye.cR)(s),k=(0,f.jsx)(fi.m,{uri:s});return(0,f.jsx)(Ni,{spec:c,menu:k,uri:s,name:d,onClick:i,media:(0,f.jsx)(Ke,{type:l,name:d,images:r}),leading:(0,f.jsx)(ti,{isLocked:!1,uri:s,spec:c,playAriaLabel:m?u.ag.get("playlist.a11y.play",d):u.ag.get("pause")}),title:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Je,{name:d,uri:s,spec:c}),o&&(0,f.jsx)(Ei.S,{iconSize:"small"})]}),subtitle:a&&(0,f.jsx)(le.D,{variant:"mesto",semanticColor:"textSubdued",children:u.ag.get("card.tag.artist")}),trailing:(0,f.jsx)(Xe,{menu:k,name:d,spec:c})})}));var Ui=n(44689),wi=n(46351);const Pi=a.memo((function({book:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r,authorName:o,publishDate:c,topics:m}=e,{spec:k}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),p=(0,f.jsx)(Ui.X,{uri:s}),v=m&&m.length>0;return(0,f.jsx)(Ni,{spec:k,menu:p,uri:s,name:d,onClick:i,media:(0,f.jsx)(Ke,{type:l,name:d,images:r}),title:(0,f.jsx)(Je,{name:d,uri:s,spec:k}),subtitle:(0,f.jsxs)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:[a&&(0,f.jsx)(le.D,{className:_e,children:u.ag.get("search.row.subtitle")}),(0,f.jsx)(Qe.ws,{label:o,showDelay:Qe.gQ,children:(0,f.jsx)(le.D,{className:_e,children:o})})]}),body:(0,f.jsxs)(f.Fragment,{children:[c&&(0,f.jsx)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:(0,wi.rL)((0,wi.RX)(c.toISOString()))}),v&&(0,f.jsx)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:(0,f.jsx)(Ti,{topics:m,spec:k})})]}),trailing:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(hi,{uri:s,type:"audiobook",spec:k}),(0,f.jsx)(Xe,{menu:p,name:d,spec:k})]})})}));var qi=n(10170),_i=n(19008),Oi=n(13645),Li=n(46304),Mi=n(98226),Wi=n(26483),Hi=n(93114),Bi=n(10049);const Ki=a.memo((function({episode:e,onClick:i,index:n,withEntityTag:t=!1}){const{requestId:l,uri:d,type:r,name:o,images:c,show:m,release:k,duration:p,isExplicit:v,is19PlusOnly:N,timeLeft:y,mediaType:g}=e,{logger:h,spec:x}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:l??"",uri:d}}),{isPlaying:F}=(0,Ye.cR)(d),b=(0,a.useCallback)(((e,i)=>{(0,Me.l7)(i,x.downloadButtonFactory(),h,d)}),[h,x,d]),j=(0,f.jsx)(Oi.k,{uri:d}),C=g?.includes(Hi.$.Video)??!1;return(0,f.jsx)(Ni,{spec:x,menu:j,uri:d,name:o,createdBy:m?.name||void 0,onClick:i,media:(0,f.jsx)(Ke,{type:r,name:o,images:c}),leading:(0,f.jsx)(ti,{isLocked:!1,uri:d,spec:x,playAriaLabel:F?u.ag.get("pause"):m?u.ag.get("tracklist.a11y.play",o,m.publisher):u.ag.get("playlist.a11y.play",o)}),title:(0,f.jsx)(Je,{name:o,uri:d,spec:x}),subtitle:(0,f.jsxs)(f.Fragment,{children:[C&&(0,f.jsx)(Bi.t,{}),v&&(0,f.jsx)(Li.N,{}),N&&(0,f.jsx)(Mi.X,{size:16}),(0,f.jsxs)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:[t&&(0,f.jsx)(le.D,{children:u.ag.get("card.tag.episode")}),m&&(0,f.jsx)(le.D,{className:_e,children:(0,f.jsx)(Ai,{show:m,spec:x})})]})]}),body:(0,f.jsxs)(f.Fragment,{children:[k.date&&(0,f.jsx)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:(0,wi.rL)((0,wi.RX)(k.date))}),(0,f.jsx)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:s()(_e,we),children:y.milliseconds>0?(0,f.jsx)(Wi.n,{durationMs:p.milliseconds}):(0,f.jsxs)(le.D,{className:Pe,children:[u.ag.get("episode.played"),(0,f.jsx)(qi.N,{iconSize:16,className:qe,"aria-hidden":"true"})]})})]}),trailing:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_i.p,{className:De,uri:d,size:_i.q.xs,showUpsell:!1,onClick:b}),(0,f.jsx)(hi,{uri:d,type:"episode",spec:x}),(0,f.jsx)(Xe,{menu:j,name:o,spec:x})]})})}));var zi=n(85192);const Gi=a.memo((function({genre:e,onClick:i,index:n}){const{requestId:a,uri:t,type:s,name:l,images:d}=e,{spec:r}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:a??"",uri:t}});return(0,f.jsx)(Ni,{spec:r,menu:(0,f.jsx)(zi.o,{uri:t}),uri:t,name:l,onClick:i,media:(0,f.jsx)(Ke,{type:s,name:l,images:d}),title:(0,f.jsx)(Je,{name:l,uri:t,spec:r})})}));var $i=n(10230);const Xi=a.memo((function({playlist:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r,owner:o}=e,{spec:c}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:m}=(0,Ye.cR)(s),k=o.displayName?u.ag.get("tracklist.a11y.play",d,o.displayName):u.ag.get("play"),p=(0,f.jsx)($i.X,{uri:s});return(0,f.jsx)(Ni,{spec:c,menu:p,uri:s,name:d,createdBy:o.displayName??void 0,onClick:i,media:(0,f.jsx)(Ke,{type:l,name:d,images:r}),leading:(0,f.jsx)(ti,{isLocked:!1,uri:s,spec:c,playAriaLabel:m?u.ag.get("pause"):k}),title:(0,f.jsx)(Je,{name:d,uri:s,spec:c}),subtitle:(0,f.jsxs)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:[a&&(0,f.jsx)(le.D,{className:_e,children:u.ag.get("card.tag.playlist")}),o.displayName&&(0,f.jsx)(le.D,{className:_e,children:(0,f.jsx)(Ii,{uri:o.uri,name:u.ag.get("search.playlist-by",o.displayName),spec:c})})]}),trailing:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(We,{uri:s,spec:c}),(0,f.jsx)(hi,{uri:s,type:"playlist",spec:c}),(0,f.jsx)(Xe,{menu:p,name:d,spec:c})]})})})),Qi=a.memo((function({show:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:l,type:d,name:r,images:o,publisher:c,topics:m}=e,{spec:k}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:l}}),p=(0,f.jsx)(xi.M,{uri:l});return(0,f.jsx)(Ni,{spec:k,menu:p,uri:l,name:r,onClick:i,media:(0,f.jsx)(Ke,{type:d,name:r,images:o}),title:(0,f.jsx)(Je,{name:r,uri:l,spec:k}),subtitle:(0,f.jsxs)(le.D,{variant:"mesto",semanticColor:"textSubdued",children:[(0,f.jsxs)("div",{children:[a&&(0,f.jsx)(le.D,{className:_e,children:u.ag.get("card.tag.show")}),(0,f.jsx)(le.D,{className:s()(_e),children:c})]}),(0,f.jsx)("div",{children:(0,f.jsx)(le.D,{className:s()(_e,Le),children:(0,f.jsx)(Ti,{topics:m,spec:k})})})]}),trailing:(0,f.jsx)(Xe,{menu:p,name:r,spec:k})})}));var Ji=n(56545);const Yi=a.memo((function({track:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,artists:r,album:o,isExplicit:c,is19PlusOnly:m}=e,k=r[0].name,{spec:p}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:v}=(0,Ye.cR)(s),N=(0,f.jsx)(Ji.$,{uri:s});return(0,f.jsx)(Ni,{spec:p,uri:s,destinationUri:o?.uri||void 0,menu:N,name:d,createdBy:r.map((e=>e.name)).join(u.ag.getSeparator()),onClick:i,media:(0,f.jsx)(Ke,{type:l,name:d,images:o?.images||[]}),leading:(0,f.jsx)(ti,{isLocked:!1,uri:s,spec:p,playAriaLabel:v?u.ag.get("pause"):u.ag.get("tracklist.a11y.play",d,k)}),title:(0,f.jsx)(Je,{name:d,uri:s,spec:p}),subtitle:(0,f.jsxs)(f.Fragment,{children:[c&&(0,f.jsx)(Li.N,{}),m&&(0,f.jsx)(Mi.X,{size:16}),(0,f.jsxs)(le.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:[a&&(0,f.jsx)(le.D,{children:u.ag.get("card.tag.track")}),(0,f.jsx)(le.D,{className:_e,children:(0,f.jsx)(Di,{artists:r,spec:p})})]})]}),trailing:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(hi,{uri:s,type:"track",spec:p}),(0,f.jsx)(Xe,{menu:N,name:d,spec:p})]})})})),Zi=a.memo((function({user:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r}=e,{spec:o}=(0,S.fU)(ye.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),c=(0,f.jsx)(Fi.I,{uri:s});return(0,f.jsx)(Ni,{spec:o,menu:c,uri:s,name:d,onClick:i,media:(0,f.jsx)(Ke,{type:l,name:d,images:r,shape:He.K.CIRCLE}),title:(0,f.jsx)(Je,{name:d,uri:s,spec:o}),subtitle:a&&(0,f.jsx)(le.D,{variant:"mesto",semanticColor:"textSubdued",children:u.ag.get("card.tag.profile")}),trailing:(0,f.jsx)(Xe,{menu:c,name:d,spec:o})})})),en=({entity:e,index:i,withEntityTag:n})=>{const{onAddToHistory:t}=R(),s=(0,a.useCallback)((()=>{t(e)}),[e,t]);switch(e.type){case B.p.ALBUM:return(0,f.jsx)(Ri,{album:e,onClick:s,index:i,withEntityTag:n});case B.p.ARTIST:return(0,f.jsx)(Vi,{artist:e,onClick:s,index:i,withEntityTag:n});case B.p.AUDIOBOOK:return(0,f.jsx)(Pi,{book:e,onClick:s,index:i,withEntityTag:n});case B.p.EPISODE:return(0,f.jsx)(Ki,{episode:e,onClick:s,index:i,withEntityTag:n});case B.p.GENRE:return(0,f.jsx)(Gi,{genre:e,onClick:s,index:i});case B.p.PLAYLIST:return(0,f.jsx)(Xi,{playlist:e,onClick:s,index:i,withEntityTag:n});case B.p.USER:return(0,f.jsx)(Zi,{user:e,onClick:s,index:i,withEntityTag:n});case B.p.SHOW:return(0,f.jsx)(Qi,{show:e,onClick:s,index:i,withEntityTag:n});case B.p.TRACK:return(0,f.jsx)(Yi,{track:e,onClick:s,index:i,withEntityTag:n});default:return(0,Ne._)(e),null}};var nn=n(45705),an=n(80281);const tn="FSAE0ABtUCeNRJckpcCH",sn="H2PDjUgJNBIH5eWg59M0",ln="vRlEuZATPhZt2l04RVIw",dn="Adlh7XTc3j3pXM3jGgr8",rn=({index:e,item:i})=>{const{episode:n,show:a}=i,{usePlayContextItem:t}=(0,ai.n)({uri:i.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,f.jsxs)("div",{className:dn,children:[(0,f.jsx)(an.V,{index:e,episode:{...n,requestId:i.requestId},showMetadata:a,usePlayContextItem:t}),(0,f.jsx)("hr",{className:ln,"aria-hidden":!0})]})},on=({showTitle:e=!0,displayEmptyPageOnEmptyResults:i=!0,displayError:n=!0,enableInfiniteScroll:a=!1,fetchData:t,totalCountRef:l,items:d,isError:r,isSearchV3Enabled:o})=>{const{query:c,serpId:m}=R(),u=(0,ae.ix)(c).toURI(),{ref:k,breakpoint:p}=(0,si.Db)({[si.Uo.MEDIUM]:0,[si.Uo.LARGE]:600}),v=(0,S.$P)(),N=`spotify:app:search:${encodeURIComponent(c)}:${Vn}`,{spec:y,UBIFragment:g}=(0,S.fU)(ne.m,{data:{uri:u,reason:m}});return r?n?(0,f.jsx)(ie.p,{}):null:0===l.current?i?(0,f.jsx)(g,{spec:y.emptyResultsFactory(),children:(0,f.jsx)(ke,{forChip:V.Wm.episodes()})}):null:(0,f.jsxs)(si.ZU.Provider,{value:p,children:[d&&e&&(0,f.jsx)(te.r,{title:V.Wm.episodes(),seeAllUri:N,onClickTitle:()=>{y&&v.logInteraction(y.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:N}))},onClickSeeAll:()=>{y&&v.logInteraction(y.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:N}))},hasMoreElements:!a&&d.length<(l.current||0)}),(0,f.jsx)("div",{ref:k,className:sn,children:d&&(0,f.jsx)(nn.C,{triggerOnInitialLoad:!1,className:s()({[tn]:o}),onReachBottom:()=>{a&&t()},children:d})})]})},cn=e=>{const{query:i,api:n}=R(),{results:t,isError:s,fetchData:l,totalCountRef:d}=Se(30,(0,a.useCallback)(((e,a)=>n.getFullEpisodes(i,e,a)),[n,i]));return(0,f.jsx)(on,{...e,fetchData:l,totalCountRef:d,items:t?.map(((e,i)=>(0,f.jsx)(rn,{item:e,index:i},i))),isError:s})},mn=e=>{const{query:i,api:n}=R(),{results:t,isError:s,fetchData:l,totalCountRef:d}=Se(30,(0,a.useCallback)(((e,a)=>n.getSearchCategoryResults(i,"episodes",!1,e,a)),[n,i]));return(0,f.jsx)(on,{...e,fetchData:l,totalCountRef:d,items:t?.map(((e,i)=>(0,f.jsx)(en,{entity:e,index:i},i))),isError:s,isSearchV3Enabled:!0})},un=e=>(0,c.W6)(E.Dzq)?(0,f.jsx)(mn,{...e}):(0,f.jsx)(cn,{...e});var kn=n(80039);const pn=e=>{const{title:i,category:n,query:a,results:t,onAddToHistory:s,position:l,showSeeAll:d}=e;if(!t)return null;const{items:r,totalCount:o}=t;return r&&0!==r.length?(0,f.jsx)(N.q,{index:l,id:n,total:o||0,title:i,testId:`${n}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${n}`,showSeeAll:d,children:r.map(((e,i)=>(0,f.jsx)(g.JL,{value:n,index:i,children:(0,f.jsx)(kn.h,{onClick:()=>s(e),entity:e,index:i})},e.uri)))}):null},vn="pE9ccpPiPFWfTWfDdKT_",Sn=({results:e})=>{const{query:i,serpId:n,onAddToHistory:a}=R(),t=(0,ae.ix)(i).toURI(),{spec:s,UBIFragment:l}=(0,S.fU)(ne.m,{data:{uri:t,reason:n}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,f.jsx)(l,{spec:s.emptyResultsFactory(),children:(0,f.jsx)(ke,{forChip:V.Wm.podcastAndEpisodes()})}):(0,f.jsx)(l,{spec:s,children:(0,f.jsxs)("div",{className:vn,children:[0!==e?.podcasts.totalCount&&(0,f.jsx)("div",{children:(0,f.jsx)(pn,{position:0,category:"podcasts",title:V.Wm.podcastAndEpisodes(),query:i,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,f.jsx)("div",{children:(0,f.jsx)(un,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var Nn=n(88672);const yn="bCoyoXohuLs0f6urF2PD",gn="EF2m35WFubo6yUwP04MQ",hn=({displayChips:e,category:i})=>{const{query:n,api:t,serpId:l,onAddToHistory:d}=R(),{results:r,isError:o,fetchData:c,totalCountRef:m}=Se(30,(0,a.useCallback)(((e,a)=>t.getSearchCategoryResults(n,i,!0,e,a)),[t,i,n])),u=(0,a.useCallback)(((e,i)=>(0,f.jsx)(g.JL,{value:"card",index:i,children:(0,f.jsx)(kn.h,{entity:e,onClick:()=>d(e),testId:`search-category-card-${i}`,index:i})},`${e.uri}-${i}`)),[d]),k=(0,ae.ix)(n).toURI(),{spec:p,UBIFragment:v}=(0,S.fU)(Nn.N,{data:{uri:k,identifier:i,reason:l}}),N=(0,a.useMemo)((()=>p.cardsFactory()),[p]),y=(0,a.useMemo)((()=>p.emptyResultsFactory()),[p]);return o?(0,f.jsx)(ie.p,{}):0===m.current?(0,f.jsx)(v,{spec:y,children:(0,f.jsx)(ke,{forChip:V.Wm[i]()})}):(0,f.jsx)(v,{spec:N,children:(0,f.jsx)("div",{className:s()(yn,{[gn]:e}),children:r&&(0,f.jsx)(nn.C,{onReachBottom:c,triggerOnInitialLoad:!1,children:(0,f.jsx)($.T,{render:()=>r.map(((e,i)=>u(e,i)))})})})})};var fn=n(68068),xn=n(17383),Fn=n(90278),bn=n(86612),jn=n(56608);const Cn=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:i,api:n,serpId:t}=R(),{results:s,isError:l,fetchData:d,totalCountRef:r}=Se(e,(0,a.useCallback)(((e,a)=>n.getSearchCategoryResults(i,"tracks",!1,e,a)),[n,i])),o=(0,a.useCallback)(((e,i)=>{const n=(0,bn.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,f.jsx)(jn.e9,{index:i,uri:(0,Fn.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:n?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},i+e.uri)}),[]),c=(0,a.useMemo)((()=>[jn.QD.INDEX,jn.QD.TITLE_AND_ARTIST,jn.QD.ALBUM,jn.QD.DURATION]),[]),m=(0,a.useCallback)((e=>e.uri),[]),k=(0,ae.ix)(i).toURI(),{spec:p,UBIFragment:v}=(0,S.fU)(fn.h,{data:{uri:k,reason:t}}),N=(0,a.useMemo)((()=>p.tracksFactory()),[p]),y=u.ag.get("search.showing-category-query-songs",i);if(l)return(0,f.jsx)(ie.p,{});if(0===r.current)return(0,f.jsx)(v,{spec:p.emptyResultsFactory(),children:(0,f.jsx)(ke,{forChip:V.Wm.podcastAndEpisodes()})});const h=xn.K1+48;return(0,f.jsx)(v,{spec:N,children:(0,f.jsx)(g.JL,{value:"search-results-tracklist",children:(0,f.jsx)("div",{children:s&&(0,f.jsx)(nn.C,{triggerOnInitialLoad:!1,onReachBottom:d,children:(0,f.jsx)(jn.Pv,{ariaLabel:y,hasHeaderRow:!0,columns:c,renderRow:o,resolveUri:m,nrTracks:s.length,headerTop:h,tracks:s},i)})})})})},Dn="hciep85bysUuJqNoK7uw",Tn="Xa3KEcm2U_GOL2KMSoHw",An="KjXzXFYQr6Wp2QlxPUAY",In=({category:e})=>{const{query:i,api:n,serpId:t}=R(),{results:l,isError:d,fetchData:r,totalCountRef:o}=Se(50,(0,a.useCallback)(((a,t)=>n.getSearchCategoryResults(i,e,!0,a,t)),[n,e,i])),c=(0,ae.ix)(i).toURI(),{spec:m,UBIFragment:u}=(0,S.fU)(Nn.N,{data:{uri:c,identifier:e,reason:t}}),{ref:k,breakpoint:p}=(0,si.Db)({[si.Uo.MEDIUM]:0,[si.Uo.LARGE]:600}),v=(0,a.useMemo)((()=>m.cardsFactory()),[m]);if(d)return(0,f.jsx)(ie.p,{});if(0===o.current)return(0,f.jsx)(u,{spec:m.emptyResultsFactory(),children:(0,f.jsx)(ke,{forChip:V.Wm[e]()})});const N="episodes"===e||"podcasts"===e,y="topResults"===e;return(0,f.jsx)(u,{spec:v,children:(0,f.jsx)(si.ZU.Provider,{value:p,children:(0,f.jsx)("div",{ref:k,className:s()(Dn,{[An]:N}),children:l&&(0,f.jsx)(nn.C,{onReachBottom:r,triggerOnInitialLoad:!1,className:Tn,children:l.map(((e,i)=>(0,f.jsx)(en,{entity:e,index:i,withEntityTag:y},e.uri)))})})})})},Rn=({results:e,hasResults:i})=>{const{query:n,serpId:t}=R(),s=(0,ae.ix)(n).toURI(),{spec:l,UBIFragment:d}=(0,S.fU)(Nn.N,{data:{uri:s,identifier:"topResults",reason:t}}),{ref:r,breakpoint:o}=(0,si.Db)({[si.Uo.MEDIUM]:0,[si.Uo.LARGE]:600}),c=(0,a.useMemo)((()=>l.cardsFactory()),[l]);return e&&i||l.emptyResultsFactory(),(0,f.jsx)(d,{spec:c,children:(0,f.jsx)(si.ZU.Provider,{value:o,children:(0,f.jsx)("div",{ref:r,className:Dn,children:e&&(0,f.jsx)(nn.C,{triggerOnInitialLoad:!1,className:Tn,children:e.topResults.items.map(((e,i)=>(0,f.jsx)(en,{entity:e,index:i,withEntityTag:!0},e.uri)))})})})})},En="podcastAndEpisodes",Vn="episodes",Un=({results:e,hasResults:i,displayChips:n})=>{const{category:a}=R(),t=(0,c.W6)(E.Dzq);return a?a===En?(0,f.jsx)(Sn,{results:e}):t?"topResults"===a?(0,f.jsx)(Rn,{results:e,hasResults:i}):(0,f.jsx)(In,{category:a}):"tracks"===a?(0,f.jsx)(Cn,{}):a===Vn?(0,f.jsx)(un,{enableInfiniteScroll:!0,showTitle:!1}):(0,f.jsx)(hn,{displayChips:n,category:a}):(0,f.jsx)(ie.p,{})};var wn=n(84681),Pn=n(42982),qn=n(52099);const _n=a.memo((function({tracks:e,query:i}){const n=(0,a.useCallback)(((e,i)=>{const n=(0,bn.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,f.jsx)(jn.pt,{uri:(0,Fn.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:i,imgUrl:n?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo},e.uri)}),[]),t=(0,a.useMemo)((()=>[jn.QD.TITLE_AND_ARTIST,jn.QD.DURATION]),[]),s=(0,a.useCallback)((e=>e.uri),[]);return e&&(0,f.jsx)(g.JL,{value:"search-results-tracklist",children:(0,f.jsx)(jn.Pv,{ariaLabel:u.ag.get("search.a11y.songs-search-results"),renderRow:n,rowPlaceholder:jn.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:s,columns:t},i)})}),((e,i)=>e.tracks===i.tracks));var On=n(37498);const Ln="search-searchResult-tracklistHeader",Mn="search-searchResult-tracklistHeaderWrapper",Wn="search-searchResult-tracklistHeaderText",Hn="VL6wjp4Br_D3FEWrUGGR",Bn="search-searchResult-tracklistContainer",Kn="search-searchResult-tracklist",zn=({tracks:e,query:i,className:n,showSeeAll:t=!0,spec:l})=>{const d=(0,S.$P)(),r=(0,a.useCallback)((()=>(0,f.jsx)("div",{className:Kn,children:(0,f.jsx)(a.Suspense,{fallback:null,children:(0,f.jsx)(_n,{tracks:e.items,query:i})})})),[i,e]),o=`spotify:app:search:${encodeURIComponent(i)}:tracks`,c=(0,a.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:o});d.logInteraction(e)}),[d,l,o]),m=(0,a.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:o});d.logInteraction(e)}),[d,l,o]);return e.items.length?(0,f.jsxs)("section",{className:s()(Bn,n),"aria-label":u.ag.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,f.jsx)("div",{className:Ln,children:e.items.length>3?(0,f.jsxs)("div",{className:Mn,children:[(0,f.jsx)("div",{className:Wn,children:(0,f.jsx)(le.D,{as:"h2",variant:"canon",children:t?(0,f.jsx)(T.Link,{to:o,className:Hn,onClick:c,children:u.ag.get("search.title.tracks")}):(0,f.jsx)("span",{className:Hn,children:u.ag.get("search.title.tracks")})})}),t&&(0,f.jsx)(On.SeeAll,{link:o,onClick:m})]}):(0,f.jsx)(le.D,{as:"h2",variant:"canon",className:Hn,children:u.ag.get("search.title.tracks")})}),(0,f.jsx)(S.Nh,{spec:l,children:(0,f.jsx)($.T,{render:r})})]}):null},Gn=({topRecommendations:e,query:i,className:n,onAddToHistory:a,position:t,showSeeAll:s})=>{const l=e.totalCount||0;return(0,f.jsx)(N.q,{index:t,id:"top-recommendations",className:n,total:l,title:u.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(i)}:topRecommendations`,showSeeAll:s,children:e.items.map(((e,i)=>(0,f.jsx)(g.JL,{index:i,value:"top-recommendations",children:(0,f.jsx)(kn.h,{onClick:()=>a(e),entity:e,index:i})},e.uri)))})};var $n=n(92369);const Xn="search-searchResult-topResult",Qn="search-searchResult-topResultCard",Jn="search-searchResult-searchResultGrid",Yn="EFHPppToKFxfm6SRhL6K",Zn="search-searchResult-tracklistShort",ea="search-searchResult-tracklistLong",ia="FTRmZyHUkeVY_X3RawUc",na="Tx_CKMgRE8CpW5vLdpAe",aa=({topResults:e,onAddToHistory:i})=>{const[n]=e.items;return n&&(0,f.jsx)($n.P,{total:1,className:Xn,title:u.ag.get("search.title.top-result"),children:[(0,f.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Qn,children:(0,f.jsx)(g.JL,{value:"top-result-card",children:(0,f.jsx)(kn.h,{isHero:!0,index:0,onClick:()=>i(n),entity:n})})},"top-result-item")]})},ta=({results:e})=>{const{query:i,onAddToHistory:n,serpId:t}=R(),s=(0,ae.ix)(i).toURI(),{spec:l,UBIFragment:d}=(0,S.fU)(qn.r,{data:{uri:s,reason:t}}),r=e.topResults.items.length>0,o=e.tracks.items.length>0,c=e.topRecommendations.items.length>0,m=(0,a.useMemo)((()=>({topResult:l.topResultFactory(),trackList:l.trackListFactory(),shelves:l.shelvesFactory()})),[l]);return(0,f.jsx)($.T,{className:Jn,rowGap:Pn.mG,testId:"search-results",render:({columnCount:a})=>{let t,s;return r?t=a>3?Zn:ea:c&&(a>5&&o?(t=Yn,s=ia):(t=ea,s=na)),(0,f.jsxs)(g.JL,{value:"search-results",children:[r&&(0,f.jsx)(d,{spec:m.topResult,children:(0,f.jsx)(aa,{topResults:e.topResults,onAddToHistory:n})}),o&&(0,f.jsx)(zn,{spec:m.trackList,className:t,query:i,tracks:e.tracks,onAddToHistory:n,showSeeAll:!1}),c&&(0,f.jsx)(d,{spec:m.shelves,children:(0,f.jsx)(Gn,{position:0,query:i,className:s,topRecommendations:e.topRecommendations,onAddToHistory:n,showSeeAll:!1})}),V.Pd.map(((a,t)=>(0,f.jsx)(d,{spec:m.shelves,children:(0,f.jsx)(pn,{position:t+1,category:a,title:V.Wm[a](),query:i,results:e[a],onAddToHistory:n,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},sa=({results:e,hasResults:i,category:n="topResults"})=>{const a=(0,c.W6)(E.Dzq),{category:t,query:s,serpId:l}=R(),d=(0,ae.ix)(s).toURI(),r=!(0,G.k)(),{spec:o,UBIFragment:m}=(0,S.fU)(qn.r,{data:{uri:d,reason:l}});return r?(0,f.jsx)(ke,{}):e?e&&!i?(0,f.jsx)(m,{spec:o.emptyResultsFactory(),children:(0,f.jsx)(ke,{})}):a&&!t?n===En?(0,f.jsx)(Sn,{results:e}):(0,f.jsx)(Rn,{results:e,hasResults:i}):(0,f.jsx)(ta,{results:e}):null};var la=n(6512),da=n(24135),ra=n(6401),oa=n(17262),ca=n(97815);const ma=(e,i)=>{const n="object"==typeof e?.requestIds?e?.requestIds:void 0,a=n?.[i],t="object"==typeof a?a:void 0;return"string"==typeof t?.["search-api"]?t?.["search-api"]:void 0},ua=e=>ma(e,"/searchV2"),ka=e=>ma(e,"/searchV2/topResults");n(45963);var pa=n(58572),va=n(32307);const Sa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchImageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]},Na={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageURLAndSize"}}]}},{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}}]}}]},ya={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}}]}}]},ga={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"verified"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]}}]},ha={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},fa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]},xa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"attributes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageURLAndSize"}}]}}]}}]}}]}}]}}]}}]}}]}}]},Fa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]},ba={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAudiobookDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publishDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signifier"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]}}]}}]}}]},ja={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"associations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"associatedVideos"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}]},Ca={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]},Da={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchFullEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchFullEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchFullEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}}]}}]}}]}}]}}]}},...va.n0.definitions,...pa.rD.definitions,...pa.rA.definitions,...pa.Zl.definitions,...pa.TS.definitions,...va.Sz.definitions,...va.Rr.definitions,...va.nl.definitions]};var Ta=n(46202),Aa=n(46167),Ia=n(17628),Ra=n(27718),Ea=n(4135);function Va(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}const Ua={type:B.p.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:Ea.E.UNKNOWN};function wa(e,i){return{items:Pa(e?.items||[],i),totalCount:e?.totalCount||0}}function Pa(e,i){return e.map((e=>qa(e,i))).filter(Aa.K)}function qa(e,i){if("Episode"!==e.data?.__typename)return null;const n=e.data,a=n.podcastV2.data;let t=Ua;return"Podcast"===a.__typename&&(t={type:B.p.SHOW,uri:a.uri,name:a.name,publisher:a.publisher?.name||"",mediaType:(0,Ra.x7)(a.mediaType),images:Va(a.coverArt?.sources||[])}),{type:B.p.EPISODE,name:n.name,images:Va(n.coverArt?.sources||[]),uri:n.uri,duration:{milliseconds:n.duration.totalMilliseconds},isExplicit:n.contentRating?.label===H.KS.Explicit,release:(0,Ra.dR)(n.releaseDate),description:n.description||"",timeLeft:{milliseconds:n.playedState.state===H.sY.Completed?0:n.duration.totalMilliseconds-n.playedState.playPositionMilliseconds},is19PlusOnly:n.contentRating?.label===H.KS.NineteenPlus,show:t,requestId:i,color:(0,Ia.bS)(n.coverArt?.extractedColors),mediaType:n.mediaTypes??[]}}const _a={...Ua,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0};function Oa(e,i){return e.map((e=>function(e,i){if("Episode"!==e.data?.__typename)return null;let n=_a;"Podcast"===e.data.podcastV2.data.__typename&&(n=(0,Ta.XU)(e.data.podcastV2.data));return{requestId:i,episode:(0,Ta.YS)(e.data),show:n}}(e,i))).filter(Aa.K)}async function La(e,i){const n=await e(Da,i),a=n?.data?.searchV2?.episodes;return a?function(e,i){return{items:Oa(e?.items||[],i),totalCount:e?.totalCount||0}}(a,ua(n?.extensions)):null}const Ma={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}}]}}]}},...ya.definitions,...Na.definitions,...Sa.definitions,...ga.definitions,...ha.definitions,...pa.rD.definitions,...pa.rA.definitions,...fa.definitions,...xa.definitions,...Fa.definitions,...ba.definitions,...ja.definitions,...Ca.definitions]};function Wa(e,i){return{items:Ha(e?.items||[],i),totalCount:e?.totalCount||0}}function Ha(e,i){return e.map((e=>Ba(e,i))).filter(Aa.K)}function Ba(e,i){if("Album"!==e.data?.__typename)return null;const n=e.data;return{type:B.p.ALBUM,name:n.name,uri:n.uri,images:Va(n.coverArt?.sources||[]),artists:n.artists.items.map((e=>({type:B.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:n.date?.year,requestId:i,color:(0,Ia.bS)(e.data.coverArt?.extractedColors)}}const Ka={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ya.definitions,...Na.definitions,...Sa.definitions]};function za(e,i){return{items:Ga(e?.items||[],i),totalCount:e?.totalCount||0}}function Ga(e,i){return e.map((e=>$a(e,i))).filter(Aa.K)}function $a(e,i){if("Artist"!==e.data?.__typename)return null;const n=e.data;return{type:B.p.ARTIST,name:n.profile.name,images:Va(n.visuals?.avatarImage?.sources||[]),uri:n.uri,verified:n.profile.verified||!1,requestId:i,color:(0,Ia.bS)(n.visuals.avatarImage?.extractedColors)}}const Xa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ga.definitions,...Na.definitions,...Sa.definitions]};function Qa(e,i){return{items:Ja(e?.items||[],i),totalCount:e?.totalCount}}function Ja(e,i){return e.map((e=>Ya(e,i))).filter(Aa.K)}function Ya(e,i){if("Audiobook"!==e.data?.__typename)return null;const n=e.data;return{type:B.p.AUDIOBOOK,uri:n.uri,name:n.name,images:Va(n.coverArt?.sources||[]),authorName:n.authors?.[0]?.name??"",topics:n.topics.items||[],publishDate:n.publishDate?new Date(n.publishDate.isoString):null,requestId:i,color:(0,Ia.bS)(n.coverArt?.extractedColors),signifierText:n.accessInfo?.signifier?.text??void 0}}const Za={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ba.definitions,...Na.definitions,...Sa.definitions]};const et={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ha.definitions,...Na.definitions,...Sa.definitions,...pa.rD.definitions,...pa.rA.definitions]};function it(e,i){return{items:nt(e?.items||[],i),totalCount:e?.totalCount||0}}function nt(e,i){return e.map((e=>at(e,i))).filter(Aa.K)}function at(e,i){if("Genre"!==e.data?.__typename)return null;const n=e.data,a=(0,ae.EC)(n.uri);return{type:B.p.GENRE,name:n.name,uri:a?n.uri:`spotify:genre:${n.uri}`,images:Va(n.image?.sources||[]),requestId:i,color:(0,Ia.bS)(n.image?.extractedColors)}}const tt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...fa.definitions,...Na.definitions,...Sa.definitions]};const st={type:B.p.USER,uri:"",displayName:"",username:"",images:[]};function lt(e,i){return{items:dt(e?.items||[],i),totalCount:e?.totalCount||0}}function dt(e,i){return e.map((e=>rt(e,i))).filter(Aa.K)}function rt(e,i){if("Playlist"!==e.data?.__typename)return null;const n=e.data;let a=st;if("User"===n.ownerV2?.data.__typename){const e=n.ownerV2?.data;a={type:B.p.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:Va(e.avatar?.sources||[])}}return{type:B.p.PLAYLIST,uri:n.uri,name:n.name,images:Va(n.images?.items.flatMap((e=>e.sources))||[]),owner:a,requestId:i,formatListData:{type:n.format??"",attributes:(t=n.attributes??[],t.reduce(((e,i)=>(e[i.key]=i.value,e)),{}))},color:(0,Ia.bS)(n.images.items[0]?.extractedColors)};var t}const ot={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...xa.definitions,...Na.definitions,...Sa.definitions,...pa.rA.definitions]};function ct(e,i){return{items:mt(e?.items||[],i),totalCount:e?.totalCount||0}}function mt(e,i){return e.map((e=>ut(e,i))).filter(Aa.K)}function ut(e,i){if("Podcast"!==e.data?.__typename)return null;const n=e.data;return{type:B.p.SHOW,uri:n.uri,name:n.name,images:Va(n.coverArt?.sources||[]),publisher:n.publisher?.name||"",topics:n.topics.items||[],requestId:i,color:(0,Ia.bS)(n.coverArt?.extractedColors)}}const kt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Fa.definitions,...Na.definitions,...Sa.definitions]};function pt(e,i){return{items:vt(e,i),totalCount:e?.totalCount||0}}function vt(e,i){return e?.items.map((e=>St(e,i))).filter(Aa.K)||[]}function St({item:e,matchedFields:i},n){if("Track"!==e.data?.__typename)return null;const a=e.data,t=a.albumOfTrack,s=!!a.associations&&a.associations.associatedVideos.totalCount>0;return{type:B.p.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:B.p.ALBUM,uri:t?.uri||"",name:t?.name||"",images:Va(t?.coverArt?.sources||[])},artists:a.artists.items.map((e=>({type:B.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},hasAssociatedVideo:s,isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:n,isLyricsMatch:!!i?.includes(H.$C.Lyrics),color:(0,Ia.bS)(t?.coverArt?.extractedColors)}}const Nt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ja.definitions,...Na.definitions,...Sa.definitions]};function yt(e,i){return{items:gt(e?.items||[],i),totalCount:e?.totalCount||0}}function gt(e,i){return e.map((e=>ht(e,i))).filter(Aa.K)}function ht(e,i){if("User"!==e.data?.__typename)return null;const n=e.data;return{type:B.p.USER,uri:n.uri,name:n.displayName||n.username,images:Va(n.avatar?.sources??[]),requestId:i,color:(0,Ia.bS)(n.avatar?.extractedColors)}}const ft={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ca.definitions,...Na.definitions,...Sa.definitions]};function xt(e,i){const n=e?.itemsV2??[];return{totalCount:n.length,items:n.map((e=>{const{item:n}=e;switch(n?.data?.__typename){case"Album":return Ba(n,i);case"Artist":return $a(n,i);case"Audiobook":return Ya(n,i);case"Episode":return qa(n,i);case"Genre":return at(n,i);case"Playlist":return rt(n,i);case"Podcast":return ut(n,i);case"Track":return St(e,i);case"User":return ht(n,i);default:return console.warn("Unable to determine the correct type for item",n),null}})).filter(Aa.K)}}function Ft(e,i){const n=e?.featured||[];return{artistName:n.length?bt(e):"",items:n?.map((e=>rt(e,i))).filter(Aa.K)||[],totalCount:n.length||0}}function bt(e){const i=(0,Ra.wY)(e,"itemsV2",[]);try{const e=(0,Ra.U2)(i.map((({item:e})=>e)).filter(Boolean),"0.data");return e?.profile?.name||""}catch{return""}}const jt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResultsOnly"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResultsOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResultsOnly"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultsV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}}]}},...ya.definitions,...Na.definitions,...Sa.definitions,...ga.definitions,...ha.definitions,...pa.rD.definitions,...pa.rA.definitions,...fa.definitions,...xa.definitions,...Fa.definitions,...ba.definitions,...ja.definitions,...Ca.definitions]};const Ct={items:[],totalCount:0},Dt={albums:Ct,artists:Ct,episodes:Ct,genres:Ct,playlists:Ct,podcasts:Ct,audiobooks:Ct,topResults:{items:[]},tracks:Ct,users:Ct,topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},Tt={albums:async function(e,i){const n=await e(Ka,i),a=n?.data?.searchV2?.albums;return a?Wa(a,ua(n?.extensions)):null},artists:async function(e,i){const n=await e(Xa,i),a=n?.data?.searchV2?.artists;return a?za(a,ua(n?.extensions)):null},episodes:async function(e,i){const n=await e(et,i),a=n?.data?.searchV2?.episodes;return a?wa(a,ua(n?.extensions)):null},genres:async function(e,i){const n=await e(tt,i),a=n?.data?.searchV2?.genres;return a?it(a,ua(n?.extensions)):null},playlists:async function(e,i){const n=await e(ot,i),a=n?.data?.searchV2?.playlists;return a?lt(a,ua(n?.extensions)):null},podcasts:async function(e,i){const n=await e(kt,i),a=n?.data?.searchV2?.podcasts;return a?ct(a,ua(n?.extensions)):null},audiobooks:async function(e,i){const n=await e(Za,i),a=n?.data?.searchV2?.audiobooks;return a?Qa(a,ua(n?.extensions)):null},tracks:async function(e,i){const n=await e(Nt,i),a=n?.data?.searchV2?.tracksV2;return a?pt(a,ua(n?.extensions)):null},users:async function(e,i){const n=await e(ft,i),a=n?.data?.searchV2?.users;return a?yt(a,ua(n?.extensions)):null},topResults:async function(e,i){const n=await e(jt,i),a=n?.data?.searchV2?.topResults;return a?xt(a,ka(n?.extensions)):null}};class At{constructor(e){this._request=e}async getSearchResults(e,i=!0,n=0,a=10,t=5){const s={searchTerm:e,offset:n,limit:a,numberOfTopResults:t,includeAudiobooks:i},l=await this._request(Ma,s),d=l?.data?.searchV2;if(!d)return Dt;const r=ua(l?.extensions),o=ka(l?.extensions);return{albums:Wa(d.albums,r),artists:za(d.artists,r),episodes:wa(d.episodes,r),genres:it(d.genres,r),playlists:lt(d.playlists,r),podcasts:ct(d.podcasts,r),audiobooks:Qa(d.audiobooks??null,r),tracks:pt(d.tracksV2,r),users:yt(d.users,r),topResults:xt(d.topResults,o),topRecommendations:Ft(d.topResults,o),chipOrder:d.chipOrder}}async getSearchCategoryResults(e,i,n=!1,a=0,t=25,s=20){const l={searchTerm:e,offset:a,limit:t,numberOfTopResults:s,includeAudiobooks:n};return await Tt[i](this._request,l)||Ct}async getFullEpisodes(e,i=0,n=25){const a={searchTerm:e,offset:i,limit:n};return await La(this._request,a)||Ct}}var It=n(189),Rt=n(35358);const Et=({results:e,hasResults:i})=>{const n=(0,c.W6)(E.Dzq),{isBrowser:t}=(0,l.v9)((e=>e.platform)),r=(0,l.v9)(ca.rZ),o=(0,ra.g)(),u=(0,k.s4)(),{version:p}=(0,k.tc)(),{category:v}=R(),S=((e,i,n)=>{const a=e?.chipOrder?.items??[];return Array.from(a.reduce(((a,t)=>{if(!t.typeName)return a;if(!n&&t.typeName===H.xN.TopResults)return a;const[s,l]=z[t.typeName];return l&&s&&(i===l||e?.[s]?.items?.length)?(a.add(l),a):a}),new Set([])))})(e,v,n),N="podcasts"!==v&&"episodes"!==v,y=n?S[0]:void 0,h=(e=>{if(!e)return!1;const[i]=e.topResults.items;return Boolean(i&&i.type===B.p.TRACK)})(e),x=(0,c.W6)(E.zzt);return(0,a.useEffect)((()=>{t||e&&i&&(({eventSender:e,country:i,isAnonymous:n,context:a,variant:t})=>{const s={category:"internal-search-test",action:"search-results-page-visit",variant:t,label:"desktop-app",context:a,os:(0,K.y)(),country:i,spt:(0,W.vQ)("sp_t")};n?e.send((0,M.k)(s)):e.send((0,L.x)(s))})({eventSender:u,country:r,isAnonymous:o,context:JSON.stringify({top_result_is_track:h,version:p}),variant:x})}),[r,u,i,o,t,e,h,x,p]),(0,f.jsxs)(g.JL,{value:"search-page",children:[(0,f.jsx)(da.w,{children:(0,f.jsx)(wn.M,{isSearchChipsEnabled:!0})}),(0,f.jsx)(O,{searchCategories:S,selectedCategory:v??y,displayChips:N}),(0,f.jsx)("div",{className:s()("contentSpacing",{[Rt.Z.narrowPage]:n&&e}),id:"searchPage",children:(0,f.jsx)($.T,{className:Rt.Z.searchPageGrid,render:()=>(0,f.jsxs)(d.Z5,{children:[(0,f.jsx)(d.AW,{path:"/",element:(0,f.jsx)(J.K,{pageId:m.Wg.FIND,entityUri:"spotify:app:search",children:(0,f.jsx)(b,{})})}),(0,f.jsx)(d.AW,{path:":query",element:(0,f.jsx)(ee,{children:(0,f.jsx)(sa,{results:e,hasResults:i,category:y})})}),(0,f.jsx)(d.AW,{path:":query/:category",element:(0,f.jsx)(Z,{children:(0,f.jsx)(Un,{results:e,hasResults:i,displayChips:N})})})]})})})]})};const Vt=a.memo((function(){const e=(0,c.W6)(E.Dzq),i=!(0,G.k)(),[{category:n,query:t},s]=(0,It.l)();(0,oa.z)("search");const[l,d]=(0,a.useState)({results:null,queryForResults:t??""}),r=l.results,m=function(e){return null!==e&&void 0!==Object.keys(e).find((i=>"chipOrder"!==i&&e[i].items.length>0))}(r),k=(0,a.useMemo)((()=>new At((0,Q.PQ)(X.b.getInstance()))),[]),{searchHistory:p,setSearchHistory:v}=(0,h.u)(),S=(0,a.useCallback)((e=>{v([e,...p])}),[p,v]),N=(0,a.useCallback)((async e=>{e===l.queryForResults&&m||s(e,n,!1)}),[l.queryForResults,n,m,s]);(0,a.useEffect)((()=>{(async()=>{if(!t)return;if(i)return void d({results:null,queryForResults:t});const n=e?20:5,a=await k.getSearchResults(t,!0,0,10,n);d({results:a,queryForResults:t})})()}),[t,k,e,i]),(0,a.useEffect)((()=>{t||d({results:null,queryForResults:""})}),[t]);const y=(0,a.useMemo)((()=>o().create().toString()),[n,l.queryForResults]),g=(0,a.useMemo)((()=>({api:k,category:n,query:l.queryForResults,onAddToHistory:S,onSearchRequest:N,serpId:y})),[k,n,S,N,l.queryForResults,y]);return(0,f.jsxs)(I,{value:g,children:[(0,f.jsx)(la.$,{children:u.ag.get("search.page-title")}),(0,f.jsx)(Et,{results:r,hasResults:m})]})}))},49624:(e,i,n)=>{n.d(i,{s:()=>u});var a=n(50959),t=n(67301);n(95101),n(32548);const s=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,i){return e.filter((e=>e.label?e.label===i:e.width?s(e.width)===i:!!e.height&&s(e.height)===i))[0]}var d=n(94379);function r(e){const i=l(e,"standard"),n=l(e,"large"),a=l(e,"small"),t=l(e,"xlarge");return{image_url:i?.url,image_height:i?.height?.toString(),image_width:i?.width?.toString(),image_url_large:n?.url,image_height_large:n?.height?.toString(),image_width_large:n?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:t?.url,image_height_xlarge:t?.height?.toString(),image_width_xlarge:t?.width?.toString()}}var o=n(72746),c=n(22528),m=n(16917);function u(e,i){const n=(0,t.o)(),s=(0,o.g)(),{isPlaying:l,isActive:u}=(0,c.$o)(e?.uri||""),{isActive:k}=(0,c.cR)(i?.uri||"");return(0,a.useCallback)((a=>{if(!i||!e)return;const t=function(e,i){const n=(e.coverArt?.sources||[]).sort(((e,i)=>(i.width||0)-(e.width||0))),a=(0,d.Xb)(e,i),t=(0,d.Ie)(i)||a;return{uri:e.uri,title:e.name,subtitle:i.name,type:"episode",album_uri:i.uri,album_title:i.name,artist_uri:i.uri,artist_name:i.name,...r(n),media_type:"audio",isTrailer:a,anonymousPlaybackAllowed:t}}(e,i);k&&!l&&u&&!a?s.resume():k&&l&&!a?(n({type:"click",intent:"pause",targetUri:e.uri}),s.pause()):(n({type:"click",intent:"play",targetUri:e.uri}),s.play({uri:i.uri,pages:[{items:[{type:m.p.EPISODE,uri:e.uri,uid:null,metadata:t,provider:null}]}]},{referrerIdentifier:s.getReferrer(),featureIdentifier:"episode"},a))}),[u,l,k,s,n,i,e])}}}]);
//# sourceMappingURL=xpui-routes-search.js.map