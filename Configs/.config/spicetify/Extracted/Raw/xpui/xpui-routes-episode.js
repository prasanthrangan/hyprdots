"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3472],{19008:(e,t,s)=>{s.d(t,{p:()=>c,q:()=>n.q});var i=s(50959),a=s(36692),n=s(45151),r=s(67301),o=s(11527);const l=i.memo((function({uri:e,size:t=n.q.md,className:s,onClick:l,showUpsell:c}){const[d,u]=(0,a.Z)(e),p=(0,r.o)(),m=(0,i.useCallback)((()=>{p({targetUri:e,intent:d?"remove-from-library":"add-to-library",type:"click"}),u(!d)}),[p,e,d,u]);return(0,o.jsx)(n.o,{className:s,isFollowing:d,onFollow:m,onClick:l,uri:e,size:t,showUpsell:c})})),c=i.memo((function(e){return(0,o.jsx)(l,{...e})}))},31701:(e,t,s)=>{s.d(t,{o:()=>n});var i=s(58665),a=s(74818);function n(){return{version:(0,i.W6)(a.GEN)?2:1}}},65371:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Et});s(99692);var i=s(50959),a=s(22741),n=s(5311),r=s(47323),o=s(20465),l=s(38762),c=s(98900),d=s(27293),u=s(22171),p=s(77671),m=s(29535),h=s(58665),x=s(74818),g=s(31701),y=s(43287),j=s(11527);const k=(0,i.lazy)((()=>s.e(8801).then(s.bind(s,50236)))),b=(0,i.lazy)((()=>s.e(7568).then(s.bind(s,77568))));function C(e){const t=(0,y.m)(),s=(0,h.W6)(x.XKk,{loadingValue:!1}),a=(0,g.o)();return t?s?e.uri?(0,j.jsx)(i.Suspense,{fallback:!0,children:(0,j.jsx)(b,{uri:e.uri})}):null:(0,j.jsx)(i.Suspense,{fallback:!0,children:(0,j.jsx)(k,{reason:"Episode page",...a,...e})}):null}const P="dpN5ViPOceUWNB5EQPHN",T="fBEA27lLw_sc60Zjd_qw",f="vBcxPq3E2okwgXOkVPEM",v="CxoSYuAjlcCDSOWnnbJe",I="HCCBXwdFvq6omWW2hR0N",S="bJOPO5Zo7dpjSVDwEpSw",E="TXdDDpokVTyJzDEDWHHf",U="tvj001zNcrC5VUZmTt9c",D="PC5kR03GYecc7syeoC0q",N="YldGldlfaI9myEGXQf9g",w="qJHVIpJn1vLPWsAKfTEZ",L="wSIzjkVlr0Zdy7di2vRm",R="hYS_K1NATGyWt6tCSRqQ",A="hVVaM4pF9arpQ8Nvn2a1",M="zf0Eac1LugsHUacz74Zf",B="TnNaqxbaI0hzhBQZ7wE0",F="zSw1lG1TNe_xm6KTqtCv",O="MlEQDkXnjdKKJueJ9kkB",z="jg0xlyD1yjh0DPNG6eOg",_="QiHXpFb4dLZNOFe5gpp3";var W=s(29482),$=s(89807),H=s(42189),K=s(30068),Z=s(96504);const V=({cardHeaderText:e,cardBodyText:t,buttonText:s,buttonTarget:i})=>(0,h.W6)(x.XdP)?(0,j.jsxs)("div",{className:N,children:[(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)(W.D,{variant:"balladBold",semanticColor:"textBase",children:e}),(0,j.jsx)(W.D,{semanticColor:"textBase",children:t})]}),(0,j.jsx)(K.D,{buttonSize:"sm",colorSet:"invertedLight",href:(0,l.EC)(i).toURLPath(!0),component:Z.Z,children:s})]}):null,q=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:s,hasDescription:a,htmlDescription:n,onExpanded:r,onTimeStampClick:o,playability:l,showHeader:d=!0,spec:u})=>{const p=(0,H.$P)(),m=(a||t)&&d,g=(0,i.useCallback)((e=>{const t=u.readMoreButtonFactory();p.logInteraction(e?t.hitUiReveal():t.hitUiHide()),r?.()}),[u,p,r]),y=(0,h.W6)(x._nP,{loadingValue:!1});return(0,j.jsxs)(j.Fragment,{children:[m&&(0,j.jsx)(W.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:I,children:c.ag.get("episode.description-title")}),t&&(0,j.jsx)(V,{cardHeaderText:t.cardHeaderText,cardBodyText:t.cardBodyText,buttonText:t.buttonText,buttonTarget:t.buttonTarget}),a&&(0,j.jsx)($.o,{className:f,onTimeStampClick:o,maxLines:4,onExpanded:g,content:(s||"").trim(),htmlContent:e&&n?n:void 0,enableTimestamps:l.playable,enableAutomaticLinkification:y&&e&&!!n})]})};var X=s(84875),Y=s.n(X),Q=s(75390),G=s(35118),J=s(8319),ee=s(49314),te=s(17383),se=s(51825),ie=function(e){return e.DESCRIPTION="description",e.TRANSCRIPT="transcript",e}(ie||{});const ae=i.memo((function({transcriptSections:e,descriptionContent:t,transcriptContent:s,spec:a}){const n=(0,H.$P)(),[r,o]=(0,i.useState)(ie.DESCRIPTION),l=(0,se.Mi)(),{ref:d,inView:u}=(0,Q.YD)({threshold:[1],root:l.current,rootMargin:`-${te.K1+1}px 100000px 0px 100000px`}),p=(0,i.useRef)(null),m=(0,i.useCallback)((e=>{p.current=e,d(e)}),[d]);return(0,i.useEffect)((()=>{const e=p.current?.parentElement?.offsetTop,t=l?.current;if(!e||!t)return;const s=e-te.K1;t.scrollTop>s&&t.scrollTo({top:s})}),[l,r]),(0,j.jsx)(G.l,{list:(0,j.jsxs)(J.F,{className:Y()(O,{[z]:!u}),ref:m,children:[(0,j.jsx)(ee.c,{label:c.ag.get("web-player.episode.description"),sentenceCase:!0,active:r===ie.DESCRIPTION,onClick:()=>{const e=a.tabsFactory().descriptionTabButtonFactory().hitUiReveal();n.logInteraction(e),o(ie.DESCRIPTION)},className:Y()(_,{[L]:r===ie.DESCRIPTION})}),(0,j.jsx)(ee.c,{label:c.ag.get("web-player.episode.transcript"),sentenceCase:!0,disabled:null===e,active:r===ie.TRANSCRIPT,onClick:()=>{const e=a.tabsFactory().transcriptTabButtonFactory().hitUiReveal();n.logInteraction(e),o(ie.TRANSCRIPT)},className:Y()(_,{[L]:r===ie.TRANSCRIPT})})]}),children:null===e||r===ie.DESCRIPTION?t:s})}));var ne=s(61187),re=s(20141),oe=s(46227),le=s(97432);const ce=(0,i.memo)((function({transcriptSections:e,onTimeStampClick:t,episodeUri:s}){const{spec:i,logger:a}=(0,H.fU)(ne.m,{data:{uri:s}}),{isPlaying:n}=(0,oe.n)({uri:s},{featureIdentifier:"episode"}),r=i.timestampLinkFactory();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:A,children:(0,j.jsx)(W.D,{variant:"viola",semanticColor:"textBase",children:c.ag.get("web-player.episode.transcript.disclaimer")})}),e.map(((e,i)=>{const o=`transcript-section-${i}`;return(0,j.jsxs)("div",{className:R,children:[(0,j.jsx)("button",{className:M,onClick:()=>{t(e.startMs,o),a.logInteraction(n?r.hitSeekToTime({msToSeekTo:e.startMs}):r.hitPlay({itemToBePlayed:s}))},children:(0,j.jsx)(re.D,{id:o,targetURI:(0,l.EC)(s),fadeOut:!0,children:(0,j.jsx)(W.D,{variant:"finaleBold",semanticColor:"textSubdued",className:B,children:(0,le.m)(e.startMs)})})}),e.content.map(((e,t)=>(0,j.jsx)(W.D,{variant:"viola",semanticColor:"textBase",className:F,dir:"auto",children:e},`transcript-text-${t}`)))]},o)}))]})}));s(95101),s(2178);var de=s(17048),ue=s(56608),pe=s(34797),me=s(93462),he=s(34844),xe=s(56545),ge=s(35292),ye=s(88258),je=s(47006),ke=s(70509),be=s(15192),Ce=s(96613);const Pe="OYehkMWcGJRKPkByp46K",Te="uc1bXkrZqrCz0CMK4lBb",fe="qZeibBbA3SVClzEueYND",ve=({episodeUri:e,index:t,duration:s,start:a,stop:n,name:r,uri:o,artists:l,album:d,playable:u})=>{const{isActive:p,isPlaying:m,onClick:h}=(0,je.k)({episodeUri:e,start:a,stop:n}),x=(0,i.useCallback)(((e,t)=>{h(t)}),[h]),{spec:g}=(0,H.fU)(he.r,{data:{position:t,reason:"",uri:o}});return(0,j.jsx)(be.JL,{value:"row",index:t,children:(0,j.jsx)(ke.xV,{trigger:"right-click",action:"open",menu:(0,j.jsx)(xe.$,{uri:o}),children:(0,j.jsxs)(ye.c,{uri:o,index:t,ariaRowIndex:t+1,dragMetadata:{name:r,createdBy:l?.[0].name??""},onTriggerPlay:x,isActive:p,isPlayable:u,spec:g,children:[(0,j.jsxs)(ge.vZ,{ariaColIndex:0,children:[(0,j.jsx)(ge.Du,{uri:o,playAriaLabel:c.ag.get("tracklist.a11y.play",r,l?.[0].name),onClick:x,isPlaying:m,isActive:p,spec:g,children:(0,j.jsx)(ge.km,{children:(0,j.jsx)("img",{className:Te,src:d.image,alt:d.name})})}),(0,j.jsxs)(ge.vm,{children:[(0,j.jsx)(ge.Wh,{titleText:r,children:r}),(0,j.jsx)(ge.K9,{children:(0,j.jsx)(ge.T6,{artists:l,spec:g})})]})]}),(0,j.jsx)(ge.UA,{ariaColIndex:1,children:(0,j.jsx)(ge.BM,{uri:d.uri,name:d.name,spec:g,children:d.name})}),(0,j.jsxs)(ge.mU,{ariaColIndex:2,children:[(0,j.jsx)(Ce.f,{uri:o,spec:g}),(0,j.jsx)(ge.A$,{duration:s}),(0,j.jsx)(ge.Zv,{spec:g,menu:(0,j.jsx)(xe.$,{uri:o,artists:l}),label:c.ag.get("more.label.track",r,l?.[0].name)})]})]})})})};function Ie(e,t,s){return e.reduce(((e,i,a)=>((a>0||t>0)&&e.push({type:"SPACER",id:`spacer-${e.length}`}),"MUSIC"===i.type?e.push(function(e,t,s){return{type:"MUSIC",index:t,uri:s.uri,episodeUri:e,start:s.start,stop:s.stop,duration:s.duration,name:s.track.name,artists:s.track.artists,album:s.track.album,playable:s.track.playable}}(s,a,i)):"TALK"===i.type&&e.push(function(e,t,s){return{type:"TALK",index:t,uri:e,title:s.title,subtitle:s.subtitle,start:s.start,stop:s.stop,duration:s.duration,showUri:s.show.uri,showName:s.show.name}}(s,a,i)),e)),[])}const Se=({uri:e,segmentCount:t})=>{const s=(0,pe.G)(),a=(0,i.useCallback)((async(i,a)=>{const n=Math.ceil(i/2);try{return{items:Ie(await s.getSegments(e,n,a),n,e),totalLength:2*t-1}}catch(e){return{items:[],totalLength:0}}}),[t,s,e]),n=(0,i.useCallback)((t=>{switch(t.type){case"SPACER":return(0,j.jsx)("div",{className:fe},t.id);case"MUSIC":return(0,j.jsx)(ve,{...t},`${e}-${t.index}`);case"TALK":return(0,j.jsx)(de.t,{...t},`${e}-${t.index}`);default:return(0,me.U)(t)}}),[e]),r=c.ag.get("music_and_talk.in_this_episode");return(0,j.jsxs)("div",{children:[(0,j.jsx)(W.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:Pe,children:r}),(0,j.jsx)(ue.Pv,{ariaLabel:r,hasHeaderRow:!0,rowPlaceholder:ue.hU,columns:[ue.QD.TITLE_AND_ARTIST,ue.QD.ALBUM_OR_SHOW,ue.QD.DURATION],renderRow:n,fetchTracks:a,resolveUri:e=>"MUSIC"===e.type?e.uri:"",limit:50,nrTracks:2*t-1,testID:"music-and-talk-tracklist"})]})};var Ee=s(66569);const Ue=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:s,hasDescription:a,hasMusicAndTalkSegements:n,htmlDescription:r,onExpanded:o,onDescriptionTimestampClick:l,onTranscriptTimestampClick:d,playability:u,segmentCount:p,showUrl:h,transcript:x,uri:g,spec:y})=>{const k=(0,H.$P)(),b=(0,i.useMemo)((()=>y.descriptionSectionFactory()),[y]),P=(0,i.useMemo)((()=>b.trackListFactory()),[b]),[T,f]=(0,i.useState)(null),v=(0,i.useCallback)((async e=>{const t=await(0,Ee.l)(e);f(t)}),[]);(0,i.useEffect)((()=>{x&&x.length>0&&v(x[0].cdnUrl)}),[v,x]);const I=i=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(q,{hasDescription:a,contentInformation:t,onTimeStampClick:l,onExpanded:o,description:s,areHTMLDescriptionsEnabled:e,htmlDescription:r,playability:u,showHeader:i,spec:b}),n&&(0,j.jsx)(H.Nh,{spec:P,children:(0,j.jsx)(Se,{segmentCount:p,uri:g})}),h&&(0,j.jsx)(m.P,{buttonSize:"sm",className:S,href:h,component:Z.Z,onClick:()=>{k.logInteraction(b.allEpisodesLinkFactory().hitUiNavigate({destination:h}))},children:c.ag.get("episode.see_all_episodes")}),(0,j.jsx)(C,{uri:g})]});return(0,j.jsx)(j.Fragment,{children:x&&x?.length>0?(0,j.jsx)(ae,{transcriptSections:T,descriptionContent:I(!1),transcriptContent:(0,j.jsx)(ce,{transcriptSections:T||[],onTimeStampClick:d,episodeUri:g}),spec:y}):I(!0)})};var De=s(99543),Ne=s(6401),we=s(90474),Le=s(61204);const Re="activation-trigger-mme",Ae=({episodeUri:e,showUri:t,isLocked:s,isPlaying:i,isPlayDisabled:a,playButtonPlayLabel:n,playButtonPauseLabel:r,onClick:o,size:c="large"})=>{const d=(0,Le.E)();if((0,Ne.g)())return(0,j.jsx)(we.f,{size:c,onClick:o,isPlaying:i,disabled:a,locked:s,ariaPlayLabel:n,ariaPauseLabel:r});const u=(0,j.jsx)(De.l,{showUri:t,enabled:s,renderInline:!1,children:(0,j.jsx)(we.f,{size:c,onClick:o,isPlaying:i,disabled:a,locked:s,ariaPlayLabel:n,ariaPauseLabel:r})});return d?(0,j.jsx)(re.D,{id:Re,targetURI:(0,l.EC)(e),fadeOut:!0,children:u}):u};var Me=s(67301),Be=s(49624),Fe=s(1526),Oe=s(72746),ze=s(22528),_e=s(28106),We=s(75075),$e=s(66953),He=s(50930),Ke=s(75661),Ze=s(16917),Ve=s(40587),qe=s(30273),Xe=s(33299),Ye=s(19008),Qe=s(53972),Ge=s(45255),Je=s(13645),et=s(36449),tt=s(97138),st=s(15978),it=s(98226),at=s(78157),nt=s(60765),rt=s(80319),ot=s(14996),lt=s(65145);const ct=({episode:e,onPlayEpisode:t,isPlaying:s,isActive:a,isFullyPlayed:n,setIsFullyPlayed:r,backgroundColor:o,isLocked:l,spec:d})=>{const{uri:u,playedState:p,contentRating:m,playability:h}=e,x=(0,H.$P)(),g=(0,Ve.I0)(),[y]=(0,at.z)(1e4,(e=>e?.item?.uri===u)),k=(0,_e.Y)((e=>e?.duration)),{badges:b}=(0,rt.r)({contentRating:m?.label}),C=(0,i.useCallback)((e=>{!h.playable&&b.nineteen&&(e.stopPropagation(),g((0,qe.RM)(u||"")))}),[u,h.playable,b.nineteen,g]),P=(0,i.useCallback)((()=>{const e=d.contextMenuButtonFactory().hitUiReveal();x.logInteraction(e)}),[x,d]),T=(0,i.useCallback)(((e,t)=>{(0,tt.l7)(t,d.downloadButtonFactory(),x,u)}),[x,d,u]),f=(0,i.useCallback)((e=>{const t=d.saveButtonFactory();x.logInteraction(e?t.hitLike({itemToBeLiked:u}):t.hitRemoveLike({itemNoLongerLiked:u}))}),[x,d,u]),v=!l&&!e.playability.playable,I=c.ag.get("tracklist.a11y.play",e.name,e.podcast?.name),S=c.ag.get("tracklist.a11y.pause",e.name,e.podcast?.name),U=e.podcast?.uri,D=(0,ot.j)(),N=(0,et.r)(e.uri);return(0,j.jsxs)(Xe.o,{backgroundColor:o,children:[(0,j.jsxs)(Xe.F,{children:[b.nineteen&&(0,j.jsx)(it.X,{className:E,size:16}),(0,j.jsx)(nt.E,{fullyPlayed:n,durationMs:a&&k?k:e.duration.milliseconds,releaseDate:Ut(e.releaseDate?.isoString),resumePositionMs:p.playPositionMilliseconds,isPlaying:s,position:a&&y||void 0})]}),(0,j.jsxs)(Xe.F,{children:[(0,j.jsx)("div",{onClick:C,children:(0,j.jsx)(Ae,{episodeUri:e.uri,showUri:U,isLocked:l,onClick:()=>{t(p.playPositionMilliseconds)},isPlaying:s,isPlayDisabled:v,playButtonPlayLabel:I,playButtonPauseLabel:S,size:D})}),!l&&(0,j.jsx)(Ye.p,{uri:e.uri,onClick:T,size:D}),N?(0,j.jsx)(lt.T,{uri:e.uri,size:D}):(0,j.jsx)(Ge.w,{uri:e.uri,size:D,onClick:f}),(0,j.jsx)(st.y,{onShow:P,menu:(0,j.jsx)(Je.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:U,contextUri:e.uri,isPlayed:n,onMarkAsPlayed:r}),children:(0,j.jsx)(Qe.z,{label:c.ag.get("more.label.context",e.name),size:D})})]})]})};s(64808);var dt=s(7146),ut=s(29461),pt=s(55085),mt=s(31926),ht=s(38781),xt=s(37334),gt=s(94989),yt=s(55272),jt=s(82596),kt=s(3438),bt=s(46556),Ct=s(40897);const Pt=({coverArt:e,name:t})=>{const s=(0,kt.jh)(),i=s===kt.Uo.SMALL||s===kt.Uo.XSMALL;return(0,j.jsx)(bt.O,{images:e,type:Ze.p.EPISODE,shape:bt.K.ROUNDED_CORNERS,title:t,size:i?Ct.m$.SIZE_20:Ct.m$.SIZE_24,className:U})};const Tt=({episode:e,isFullyPlayed:t,setIsFullyPlayed:s,backgroundColor:a,spec:n})=>{const{uri:r,name:o,sharingInfo:d,playedState:u,episodeType:p,releaseDate:m,coverArt:g}=e,y=(0,H.$P)(),k=function(e,t,s,i,a){const n=t===Ke.Wf.Episode;return(0,jt.G3)(e,i,s,a)?(0,j.jsx)(jt.Fg,{isMusicAndTalk:n}):n?c.ag.get("type.showEpisode"):c.ag.get("type.podcastEpisode")}(r,p||Ke.Wf.Unknown,u.playPositionMilliseconds,Ut(m?.isoString),u.state===Ke.sY.Completed),b=e.podcast?.uri,C=function(e){const t=(0,l.EC)(e);return`/show/${(0,l.HB)(t?.id||"")}`}(b),P=(0,i.useCallback)((()=>{y.logInteraction(n.podcastLinkFactory().hitUiNavigate({destination:C}))}),[y,C,n]),f=(0,h.W6)(x.vyX,{loadingValue:!1}),I=e.podcast?.coverArt,S=!(I&&I.length===g.length&&g.every(((e,t)=>e.url===I[t].url))),E=f&&!S,U=(0,kt.jh)();return(0,j.jsxs)(dt.gF,{backgroundColor:a,children:[(0,j.jsx)(pt.W,{children:(0,j.jsx)(mt.i,{text:o,dragUri:r,dragLabel:o})}),!E&&(0,j.jsx)(ut.k,{children:(0,j.jsx)(yt._,{menu:(0,j.jsx)(Je.k,{uri:r,sharingInfo:d,showUri:b,contextUri:r,isPlayed:t,onMarkAsPlayed:s}),children:(0,j.jsx)(dt.Oe,{loading:"eager",name:o,images:g,placeholderType:"episode",shape:f?dt.Kc.SQUARE:dt.Kc.ROUNDED_CORNERS})})}),(0,j.jsxs)(dt.sP,{children:[(0,j.jsx)(ht.g,{children:k}),(0,j.jsx)(yt._,{menu:(0,j.jsx)(Je.k,{uri:r,sharingInfo:d,showUri:b,contextUri:r,isPlayed:t,onMarkAsPlayed:s}),children:(0,j.jsx)(dt.xd,{dragUri:r,dragLabel:o,scaleAtMinWidth:dt.vz,className:Y()({[T]:f}),children:(0,j.jsx)("span",{"data-testid":"episodeTitle",children:o})})}),(0,j.jsx)(yt._,{menu:(0,j.jsx)(Je.k,{uri:r,sharingInfo:d,showUri:b,contextUri:r,isPlayed:t,onMarkAsPlayed:s}),children:(0,j.jsxs)(gt.default,{to:C,onClick:P,className:D,children:[E&&(0,j.jsx)(Pt,{name:o,coverArt:g}),(0,j.jsx)(xt.m,{className:U===kt.Uo.SMALL&&E?"":v,children:(0,j.jsx)("span",{"data-testid":"showTitle",children:e.podcast?.name})})]})})]})]})};var ft=s(15871),vt=s(26922),It=s(96866);const St=({episode:e})=>{const{uri:t,episodeType:s,description:n,htmlDescription:o,podcastSubscription:c,segmentsCount:p,podcast:m,contentInformation:h,playedState:x,coverArt:g}=e,{spec:y,logger:k}=(0,H.fU)(r.J,{data:{uri:t}}),b=(0,ft.k)(),C=(0,i.useMemo)((()=>y.headerFactory()),[y]),T=(0,i.useMemo)((()=>y.actionBarFactory()),[y]),[f,v]=(0,i.useState)(x.state===Ke.sY.Completed),I=(0,Oe.g)(),S=(0,Me.o)(),E=void 0!==p&&p>0,U=(0,Ne.g)(),{triggerPlay:D,togglePlay:N,isPlaying:w,isActive:L}=(0,oe.n)({uri:t,...b?{}:{pages:[{items:[{type:Ze.p.EPISODE,uri:t,uid:null,provider:null}]}]}},{featureIdentifier:"episode"}),{isActive:R}=(0,ze.$o)(t),A=g[0].url,M=(0,Fe.Zj)(A||null),B=(0,_e.Y)((e=>e?.isPaused??void 0)),F=(0,Le.E)(),O=c.isPaywalled&&!c.isUserSubscribed,z=R||L,_=e?{name:e.name,uri:e.uri,audio:{items:e.audio.items.map((e=>({url:e.url})))}}:null,W=m?{name:m.name,uri:m.uri,trailer:m.trailer,showTypes:m.showTypes}:null,$=(0,Be.s)(_,W),K=(0,i.useCallback)(((e,i,a,n)=>{const r=()=>{B?(n?.("resume"),I.resume()):(n?.("pause"),I.pause())};if(O)return;let o="play";if(!w||0!==e&&i||(o="pause"),S({intent:o,targetUri:t,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),s===Ke.Wf.Episode&&F)u.y.set((()=>({triggerId:a||Re,triggerAction:null})));else if(L&&!i)U?r():N({loggingParams:n?.()});else if(R&&!i)r();else{const t=n?.("play");U?$({seekTo:e,loggingParams:t}):D({seekTo:e,loggingParams:t})}}),[O,w,S,t,s,F,R,L,U,B,I,N,$,D]),Z=(0,i.useCallback)((e=>{K(e,!1,void 0,(e=>{const s=y.actionBarFactory().playButtonFactory();let i;return i="pause"===e||w?s.hitPause({itemToBePaused:t}):"resume"===e||z?s.hitResume({itemToBeResumed:t}):s.hitPlay({itemToBePlayed:t}),k.logInteraction(i)}))}),[K,z,w,k,y,t]),V=(0,i.useCallback)((e=>{K(e,!0,void 0,(()=>k.logInteraction(y.descriptionSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:t}))))}),[K,k,y,t]),q=(0,i.useCallback)(((e,t)=>{K(e,!0,t)}),[K]),X=(0,i.useCallback)((()=>{S({intent:"expand-description",type:"click"})}),[S]),[Y,Q]=(0,a.lr)();(0,i.useEffect)((()=>{if(e&&!z&&Y.has("t")){const t=Y.get("t")||"0",s=1e3*parseInt(t,10);s<=e.duration.milliseconds&&(Y.delete("t"),Q(Y,{replace:!0}),K(s,!0))}}),[e,K,z,Y,Q]);const G=!!n||!!o,J=e.podcast?.uri,ee=(0,l.EC)(J)?.toURLPath(!0);return(0,j.jsxs)("section",{"data-testid":"episode",className:P,children:[(0,j.jsx)(d.$,{children:(0,He.mK)({episodeOrChapterName:e.name,showOrAudiobookName:e.podcast?.name??"",type:"Podcast"})}),(0,j.jsx)(Tt,{episode:e,isFullyPlayed:f,setIsFullyPlayed:v,backgroundColor:M,spec:C}),(0,j.jsx)(ct,{episode:e,onPlayEpisode:Z,isPlaying:w,isActive:z,isFullyPlayed:f,setIsFullyPlayed:v,backgroundColor:M,isLocked:O,spec:T}),(0,j.jsx)("div",{className:"contentSpacing",children:(0,j.jsx)(Ue,{transcript:e.transcript,hasDescription:G,contentInformation:h,onDescriptionTimestampClick:V,onTranscriptTimestampClick:q,onExpanded:X,description:e.description,areHTMLDescriptionsEnabled:!0,htmlDescription:e.htmlDescription,playability:e.playability,hasMusicAndTalkSegements:E,segmentCount:p,uri:e.uri,showUrl:ee,spec:y})})]})},Et=i.memo((function(){const{episodeId:e=""}=(0,n.UO)(),t=(0,l.YD)(e).toURI(),s=(0,We.I)(t);return s?.isError||!s?.episodeOrChapter?(0,j.jsx)(p.h,{hasError:s?.isError||!1,errorMessage:c.ag.get("error.not_found.title.podcast")}):(0,$e.Ey)(s.episodeOrChapter)?(0,j.jsx)(vt.InstrumentedRedirect,{to:(0,l.EC)(s.episodeOrChapter.book?.uri).toURLPath(!0)}):(0,j.jsx)(i.Suspense,{fallback:null,children:(0,j.jsx)(It.C,{pageId:o.Wg.PODCAST_EPISODE,uri:t,children:(0,j.jsx)(St,{episode:s.episodeOrChapter})})})}));function Ut(e){return e?.replace(/T.*/,"")||""}}}]);
//# sourceMappingURL=xpui-routes-episode.js.map